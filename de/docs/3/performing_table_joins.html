<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tabellen verbinden (QGIS3) &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../../index.html" />
    <link rel="next" title="Räumliche Verbindungen erstellen (QGIS3)" href="performing_spatial_joins.html" />
    <link rel="prev" title="Digitizing Map Data" href="../digitizing_basics.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Einleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Erstellung einer Karte (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Arbeit mit Attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Import von Tabellenblättern oder CSV-Dateien (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Einfache Vektor Gestaltung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Berechnung der Länge von Linien und Statistiken (QGSI3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Einfache Visualisierung und Analyse von Rasterdaten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Erstellen und Zuschneiden eines Raster-Mosaiks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_terrain.html">Working with Terrain Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_wms.html">Working with WMS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenzierung von Kartenblättern und eingescannten Karten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenzierung von Luftbildern (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digitizing_basics.html">Digitizing Map Data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Tabellen verbinden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Räumliche Verbindungen erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Räumliche Abfragen ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nächster Nachbar Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Stichproben aus Rasterdaten mit Hilfe von Punkten und Polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpolating_point_data.html">Interpolating Point Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Stapelverarbeitung mit dem Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Komplexe Arbeitsabläufe mit Hilfe der Verarbeitungsmodellierung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Einfache Netzwerkvisualisierung und Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Lokalisierung der am nächsten gelegenen Einrichtung mit einer Quelle-Ziel-Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Einzugsgebietsanalyse mit dem Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_qgis_browser.html">Using the QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open_bil_bip_bsq_files.html">Open BIL, BIP or BSQ files in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Mit der Pythonprogrammierung loslegen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Verarbeitungsroutinen mit Python ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Ein Python Plugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Ein Verarbeitungsplugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Angepasste Python Funktionsausdrücke verwenden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Pythonscripts für die Verarbeitungswerkzeuge schreiben (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_plugins.html">Verwenden von Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Suchen und Laden von OpenStreetMap Daten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../digitizing_basics.html" title="Previous Chapter: Digitizing Map Data"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Digitizing Map Data</span>
    </a>
  </li>
  <li>
    <a href="performing_spatial_joins.html" title="Next Chapter: Räumliche Verbindungen erstellen (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Räumliche Ver... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Visit <a href="https://spatialthoughts.com" target="_blank">spatialthoughts.com</a> for more learning resources and QGIS training.</p>
<hr>
<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="performing-table-joins-qgis3">
<h1>Tabellen verbinden (QGIS3)<a class="headerlink" href="#performing-table-joins-qgis3" title="Link zu dieser Überschrift">¶</a></h1>
<p>Nicht alle Datensätze, die wir nutzen wollen, liegen als räumliche Daten vor. Oftmals kommen die Daten als Tabellen oder Tabellenblatt. Man muss sie mit den schon vorliegenden räumlichen Daten verbinden, um sie für Analysen zu nutzen. Dieses Verbinden ist bekannt unter <strong>Table Join</strong>. Es wird mit Hilfe des Algorithmus <code class="docutils literal"><span class="pre">Attribute</span> <span class="pre">nach</span> <span class="pre">Feldwert</span></code> ausgeführt.</p>
<div class="section" id="overview-of-the-task">
<h2>Aufgabenübersicht<a class="headerlink" href="#overview-of-the-task" title="Link zu dieser Überschrift">¶</a></h2>
<p>Wir werden eine Shapedatei der Teilgebiete der Bevölkerungszählung Kaliforniens und eine Tabelle mit Bevölkerungsdaten des statistischen Bundesamtes der USA nutzen, um eine Karte über die Bevölkerung Kaliforniens zu erstellen.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Weitere Fähigkeiten, die wir erlernen<a class="headerlink" href="#other-skills-you-will-learn" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li><p class="first">CSV-Datein ohne räumliche Information in QGIS einladen</p>
</li>
<li><p class="first">Verwendung der DB-Verwaltung zur Ausführung von SQL-Abfragen zur Erstellung von zusammengefassten Statistiken</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Beschaffung der Daten<a class="headerlink" href="#get-the-data" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das <a class="reference external" href="https://www.census.gov/en.html">US Census Bureau</a> bietet <a class="reference external" href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">TIGER/Line Shapedateien</a> an. Wir können auf der <a class="reference external" href="https://www2.census.gov/geo/tiger/TIGER2018/">FTP Seite</a> eine Shapedatei der Teilgebiete der Bevölkerungszählung Kaliforniens herunterladen. Wir laden die Datei <a class="reference external" href="https://www2.census.gov/geo/tiger/TIGER2018/TRACT/tl_2018_06_tract.zip">Census Tracts for California</a> herunter.</p>
<p><a class="reference external" href="http://factfinder2.census.gov/faces/nav/jsf/pages/searchresults.xhtml?refresh=t">American FactFinder</a> ist ein Verzeichnis aller Daten der Bevölkerungszählungen der USA. Wir nutzen <cite>Advanced Search</cite> und suchen nach <cite>Topic - Basic Count/Estimate</cite> und <cite>Geographies - All Census Tracts in California</cite>, um eine angepasste CSV-Datei zu erstellen und herunterzuladen. Diese Anleitung nutzt die Daten <code class="docutils literal"><span class="pre">TOTAL</span> <span class="pre">POPULATION</span> <span class="pre">|</span> <span class="pre">2017</span> <span class="pre">ACS</span> <span class="pre">5-year</span> <span class="pre">estimates</span></code>.</p>
<img alt="../../_images/data13.png" class="align-center" src="../../_images/data13.png" />
<p>Der Einfachheit halber, können wir eine Kopie beider Datensätze unter folgenden links herunterladen:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/tl_2018_06_tract.zip">tl_2018_06_tract.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/ACS_17_5YR_B01003.zip">ACS_17_5YR_B01003.zip</a></p>
<p>Datenquelle <a class="reference internal" href="../credits.html#tiger" id="id1">[TIGER]</a> <a class="reference internal" href="../credits.html#uscensus" id="id2">[USCENSUS]</a></p>
</div>
<div class="section" id="procedure">
<h2>Arbeitsablauf<a class="headerlink" href="#procedure" title="Link zu dieser Überschrift">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Gehe im QGIS Browser zur Datei <code class="docutils literal"><span class="pre">tl_2018_06_tract.zip</span></code> und erweitere sie. Wähle die Datei <code class="docutils literal"><span class="pre">tl_2018_06_tract.shp</span></code> und ziehe sie in den Arbeitsbereich.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1101.png" class="align-center" src="../../_images/1101.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p class="first">Wir sehen, dass der Layer <code class="docutils literal"><span class="pre">tl_2018_06_tract</span></code> im <span class="guilabel">Layer</span> Bereich geladen wurde. Dieser Layer enthält die Grenzen der Teilgebiete der Bevölkerungszählung in Kalifornien. Klicke mit der rechten Maustaste auf den Layer <code class="docutils literal"><span class="pre">tl_2018_06_tract</span></code> und wähle <span class="guilabel">Attributtabelle öffnen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/248.png" class="align-center" src="../../_images/248.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p class="first">Wir sehen uns die Attribute des Layers an. Um eine Tabelle mit diesem Layer zu verbinden, benötigen wir ein eindeutiges gemeinsames Attribut für jedes Feature. In diesem Fall enthält das Feld <code class="docutils literal"><span class="pre">GEOID</span></code> eine eindeutige Kennung für jedes Teilgebiet. Es kann verwendet werden, um diesen Layer mit einem anderen Layer oder einer Tabelle zu verbinden, die dieselbe ID verwenden.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/333.png" class="align-center" src="../../_images/333.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p class="first">Wir entpacken die Datei <code class="docutils literal"><span class="pre">ACS_17_5YR_B01003.zip</span></code> und öffnen die CSV-Datei <code class="docutils literal"><span class="pre">ACS_17_5YR_B01003_with_ann.csv</span></code> in einem Texteditor. Wir bemerken, dass jede Zeile Informationen über ein Teilgebiet und dieselbe eindeutige ID wie im vorhergehenden Arbeitsschritt enthält. Wir sehen, das die ID im Feld <code class="docutils literal"><span class="pre">GEO.id2</span></code> in der CSV-Datei hinterlegt ist. Wir sehen außerdem, dass die Spalte <code class="docutils literal"><span class="pre">HD01_VD01</span></code> Einwohneranzahlen für alle Teilgebiete enthält.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/418.png" class="align-center" src="../../_images/418.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p class="first">Bevor wir die CSV-Datei importieren, müssen wir eine kleine Änderung vornehmen. Der QGIS CSV-Import erwartet, dass die erste Zeile einer Datei die Spaltenköpfe und alle anderen Zeilen die Daten dazu enthalten. Bei dieser Datei sind in der Zeile 2 weitere Spaltenköpfe enthalten. Wir löschen diese Zeile und speichern die Datei.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/518.png" class="align-center" src="../../_images/518.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p class="first">Jetzt können wir die CSV-Datei in QGIS importieren. Gehe zu <span class="menuselection">Layer ‣ Layer hinzufügen ‣ Textdatei als Layer importieren...</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/618.png" class="align-center" src="../../_images/618.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p class="first">Klicke im Fenster <span class="guilabel">Datenquellenverwaltung</span> auf den Knopf <span class="guilabel">...</span> und wähle die CSV-Datei aus. Achte darauf unter <span class="guilabel">Dateiformat</span> den Punkt bei <span class="guilabel">CSV (kommagetrennte Werte)</span> zu setzen. Da wir eine Tabelle ohne geometrische Informationen importieren, müssen wir die Option <span class="guilabel">Keine Geometrie (nur Attributtabelle)</span> auswählen. Wir vergewissern uns, dass die Vorschau der <span class="guilabel">Beispieldaten</span> richtig ist und klicken auf <span class="guilabel">Hinzufügen</span> und anschließend auf <span class="guilabel">Schließen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/717.png" class="align-center" src="../../_images/717.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p class="first">Die CSV-Datei wird nun als Tabelle in QGIS importiert und erscheint als <code class="docutils literal"><span class="pre">ACS_17_5YR_B01003_with_ann</span></code> im <span class="guilabel">Layer</span> Bereich. Jetzt können wir die Verbindung mit der Tabelle herstellen. Gehe zu <span class="menuselection">Verarbeitung ‣ Werkzeugkiste</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/817.png" class="align-center" src="../../_images/817.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p class="first">Zuerst müssen wir ein Einstellung der <span class="guilabel">Werkzeugkiste</span> ändern. Klicke auf den Knopf <span class="guilabel">Optionen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/917.png" class="align-center" src="../../_images/917.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p class="first">Setze unter dem Punkt <span class="guilabel">Verarbeitung</span> den Haken bei <span class="guilabel">Benutze Dateinamen als Layernamen</span>. Diese Option macht die Ausgabelayer der Verarbeitungswerkzeuge leichter und intuitiver nutzbar. Klicke auf <span class="guilabel">OK</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1017.png" class="align-center" src="../../_images/1017.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p class="first">Suche in den <span class="guilabel">Verarbeitungswerkzeugen</span> den Algorithmus <span class="menuselection">Vektoren allgemein ‣ Attribute nach Feldwert</span> und klicke zum Öffnen doppelt darauf.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1120.png" class="align-center" src="../../_images/1120.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p class="first">Wir wählen im Dialogfenster <span class="guilabel">Attribute nach Feldwert</span> den Eintrag <code class="docutils literal"><span class="pre">tl_2018_06_tract</span></code> als <span class="guilabel">Eingabelayer</span> und <code class="docutils literal"><span class="pre">GEOID</span></code> als <span class="guilabel">Tabellenspalte</span>. Als <span class="guilabel">Eingabelayer 2</span> verwenden wir <code class="docutils literal"><span class="pre">ACS_17_5YR_B01003_with_ann</span></code> und als  <span class="guilabel">Tabellenfeld 2</span> das Attribut <code class="docutils literal"><span class="pre">GEO.id2</span></code>. Wir lassen die anderen Optionen unverändert und klicken zur Wahl der Ausgabedatei auf den Knopf <span class="guilabel">...</span> und dann auf   <code class="docutils literal"><span class="pre">Speichere</span> <span class="pre">in</span> <span class="pre">GeoPackage...</span></code>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1218.png" class="align-center" src="../../_images/1218.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p class="first">Wir vergeben <code class="docutils literal"><span class="pre">joined.gpkg</span></code> als Name für das GeoPackage und <code class="docutils literal"><span class="pre">joined</span></code> als Name für den Ausgabelayer. Klicke auf <span class="guilabel">Starte</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1318.png" class="align-center" src="../../_images/1318.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p class="first">Nachdem die Verarbeitung abgeschlossen ist, vergewissern wir uns, dass der Algorithmus erfolgreich abgearbeitet wurde und klicken auf <span class="guilabel">Schließen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1416.png" class="align-center" src="../../_images/1416.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p class="first">Wir sehen nun einen neuen Layer <code class="docutils literal"><span class="pre">joined</span></code> im Bereich <span class="guilabel">Layer</span>. Die Felder der CSV-Datei sind mit dem Layer der Teilgebiete der Bevölkerungszählung verbunden. Wir können die <span class="guilabel">Verarbeitungswerkzeuge</span> jetzt schließen. Klicke mit der rechten Maustaste auf den Layer <code class="docutils literal"><span class="pre">joined</span></code> und wähle <span class="guilabel">Attributtabelle öffnen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1515.png" class="align-center" src="../../_images/1515.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p class="first">Wir sehen zusätzliche Felder einschließlich des Feldes <code class="docutils literal"><span class="pre">HD01_VD01</span></code>, das die Bevölkerungsschätzung enthält.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1615.png" class="align-center" src="../../_images/1615.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p class="first">Da wir nun die zum Layer der Teilgebiete gehörenden Bevölkerungsdaten haben, können wir die Bevölkerungsverteilung visualisieren. Wähle den Layer <code class="docutils literal"><span class="pre">joined</span></code> und klicke auf <span class="guilabel">Layergestaltungsfenster öffnen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1715.png" class="align-center" src="../../_images/1715.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p class="first">Wähle im Bereich <span class="guilabel">Layergestaltung</span> im drop-down Menü <code class="docutils literal"><span class="pre">Abgestuft</span></code>. Da wir eine Karte der Bevölkerungsverteilung erstellen wollen, werden wir jedem Teilgebiet eine Farbe in Abhängigkeit von dessen Bevölkerungsschätzung zuweisen. Wir wählen <code class="docutils literal"><span class="pre">HD01_VD01</span></code> als <span class="guilabel">Spalte</span>. Wähle einen Farbverlauf der dir gefällt aus dem drop-down Menü <span class="guilabel">Farbverlauf</span>. Unter <span class="guilabel">Modus</span> wählen wir <span class="guilabel">Quantil (Gleiche Anzahl)</span> mit <code class="docutils literal"><span class="pre">5</span></code> <span class="guilabel">Klassen</span>. Klicke auf den Knopf <span class="guilabel">Klassifizieren</span> und beobachte wie sich die Layerdarstellung in der Karte entsprechend der Bevölkerungsklassen ändert. Wenn wir mit der Darstellung zufrieden sind, können wir den Bereich <span class="guilabel">Layergestaltung</span> schließen.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1814.png" class="align-center" src="../../_images/1814.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p class="first">Bei GIS-Analysen ist es immer sinnvoll, die Ergebnisse zu überprüfen. Um unser Ergebnis zu kontrollieren, können wir einige einfache Abfragen mit dem Ausgabelayer erstellen. Wir gehen zu <span class="menuselection">Datenbank ‣ DB-Verwaltung...</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1912.png" class="align-center" src="../../_images/1912.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p class="first">Alle in QGIS geladenen Layer sind als <em>Virtuelle Layer</em> verfügbar. Sie können mit Hilfe von SQL abgefragt werden ohne sie in eine separate Datenbank einladen zu müssen. Durch die Verfügbarkeit von räumlichen und nicht räumlichen SQL Abfragen mit SQLite und der <a class="reference external" href="https://www.gaia-gis.it/fossil/libspatialite/index">Spatialite library</a> werden so eine ganze Menge an nützlichen Funktionalitäten bereitgestellt. Gehe zu <span class="menuselection">Virtuelle Layer ‣ Projektlayer ‣ joined`</span> und wähle den Layer aus. Klicke auf den Knopf <span class="guilabel">SQL-Fenster</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/209.png" class="align-center" src="../../_images/209.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p class="first">Gebe die folgende Abfrage zur Aufsummierung des Feldes <code class="docutils literal"><span class="pre">HD01_VD01</span></code> ein, um die Gesamtbevölkerung des Bundeslandes zu ermitteln. Gebe die Abfrage im Bereich <span class="guilabel">Abfrage</span> ein und klicke auf <span class="guilabel">Ausführen</span>. Das Ergebnis wird im unteren Bereich des Fensters angezeigt. Wir können überprüfen, ob das Ergebnis mit <a class="reference external" href="https://en.wikipedia.org/wiki/California">population of California</a> übereinstimmt.</p>
</li>
</ol>
<blockquote>
<div><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="n">HD01_VD01</span><span class="p">)</span> <span class="k">as</span> <span class="n">population</span> <span class="k">from</span> <span class="n">joined</span>
</pre></div>
</div>
<img alt="../../_images/2114.png" class="align-center" src="../../_images/2114.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p class="first">SQL Abfragen sind auch gut geeignet, um gruppierende Statistiken zu erstellen. Es folgt eine Abfrage, die die Bevölkerungsanzahl aufsummiert und zusätzliche eine Gruppierung durch die <code class="docutils literal"><span class="pre">group</span> <span class="pre">by</span></code> Klausel erzeugt. Die Gruppierung erfolgt bezogen auf den Bezirk. Dabei wird die Bevölkerungssumme je Bezirk gebildet und entsprechend der Bevölkerungsgröße sortiert. Wir können das Ergebnis anhand der FIPS id <code class="docutils literal"><span class="pre">037</span></code> (Los Angeles County) überprüfen: <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_counties_in_California">most populated county in california</a> .</p>
</li>
</ol>
<blockquote>
<div><div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="n">COUNTYFP</span> <span class="k">as</span> <span class="n">county</span><span class="p">,</span> <span class="k">sum</span><span class="p">(</span><span class="n">HD01_VD01</span><span class="p">)</span> <span class="k">as</span> <span class="n">population</span>
<span class="k">from</span> <span class="n">joined</span> <span class="k">group</span> <span class="k">by</span> <span class="n">COUNTYFP</span> <span class="k">order</span> <span class="k">by</span> <span class="n">population</span> <span class="k">desc</span>
</pre></div>
</div>
<img alt="../../_images/2212.png" class="align-center" src="../../_images/2212.png" />
</div></blockquote>
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Zuletzt aktualisiert am Nov 06, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/performing_table_joins.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>