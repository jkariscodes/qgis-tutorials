<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Einfache Netzwerkvisualisierung und Routing (QGIS3) &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../../index.html" />
    <link rel="next" title="Locating Nearest Facility with Origin-Destination Matrix (QGIS3)" href="origin_destination_matrix.html" />
    <link rel="prev" title="Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)" href="automating_map_creation.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Einleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Import von Tabellenblättern oder CSV-Dateien (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Einfache Vektor Gestaltung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Berechnung der Länge von Linien und Statistiken (QGSI3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_terrain.html">Working with Terrain Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_wms.html">Working with WMS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenzierung von Kartenblättern und eingescannten Karten (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenzierung von Luftbildern (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digitizing_basics.html">Digitizing Map Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Tabellen verbinden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Räumliche Verbindungen erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Räumliche Abfragen ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nächster Nachbar Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpolating_point_data.html">Interpolating Point Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Stapelverarbeitung mit dem Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Komplexe Arbeitsabläufe mit Hilfe der Verarbeitungsmodellierung (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Einfache Netzwerkvisualisierung und Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_qgis_browser.html">Using the QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open_bil_bip_bsq_files.html">Open BIL, BIP or BSQ files in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Mit der Pythonprogrammierung loslegen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Verarbeitungsroutinen mit Python ausführen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Ein Python Plugin erstellen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Angepasste Python Funktionsausdrücke verwenden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Pythonscripts für die Verarbeitungswerkzeuge schreiben (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_plugins.html">Verwenden von Erweiterungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Suchen und Laden von OpenStreetMap Daten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Data Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="automating_map_creation.html" title="Previous Chapter: Automatisierung der Kartenerstellung mit dem Drucklayout Atlas (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Automatisieru...</span>
    </a>
  </li>
  <li>
    <a href="origin_destination_matrix.html" title="Next Chapter: Locating Nearest Facility with Origin-Destination Matrix (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Locating Near... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="basic-network-visualization-and-routing-qgis3">
<h1>Einfache Netzwerkvisualisierung und Routing (QGIS3)<a class="headerlink" href="#basic-network-visualization-and-routing-qgis3" title="Link zu dieser Überschrift">¶</a></h1>
<p>Die Erstellung, Visualisierung und das Managen von Netzwerken ist ein wichtiger Teil eines GIS. Viele Typen der in der Realität vorhandenen Infrastruktur wie z.B. Straßen, Eisenbahnlinien und Versorgungsleitungen können als Netzwerk aus Linien und Knoten mit jeweils zugewiesenen Eigenschaften modelliert werden. In diesem Tutorial lernen wir, wie Straßennetzwerke in der Regel modelliert werden. Wir werden einige Gestaltungstechniken anwenden, um die Eigenschaften des Routings zu visualisieren. Wir werden außerdem die in QGIS enthaltenen Hilfsmittel zur Netzwerkanalyse nutzen, um die kürzeste Verbindung zwischen 2 Punkten im Netzwerk zu finden.</p>
<div class="section" id="overview-of-the-task">
<h2>Überblick über die Aufgabe<a class="headerlink" href="#overview-of-the-task" title="Link zu dieser Überschrift">¶</a></h2>
<p>Wie werden einen Layer mit den Mittellinien der Straßen Washington DC&#8217;s verwenden, die Verbindungen visualisieren und ein Netzwerk erstellen. Mit Hilfe des Netzwerkes können wir den kürzesten Weg zwischen 2 beliebigen Punkten in der Stadt ermitteln.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Weitere Fähigkeiten, die wir erlernen<a class="headerlink" href="#other-skills-you-will-learn" title="Link zu dieser Überschrift">¶</a></h3>
<ul class="simple">
<li><p class="first">Wie man vom Dateninhalt abhängige Vorgaben für die Symbolisierung der Linienrichtung mit einem Pfeil vorgibt.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Beschaffung der Daten<a class="headerlink" href="#get-the-data" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die Regierung des Distrikts Columbia stellt hunderte Datensätze frei zur Verfügung: <a class="reference external" href="https://opendata.dc.gov/">Open Data Catalog</a>.</p>
<p>Wir laden folgende Daten der DCGISopendata als shape-Datei herunter: <a class="reference external" href="https://opendata.dc.gov/datasets/street-centerlines">Street Centerlines</a>.</p>
<img alt="../../_images/data1.png" class="align-center" src="../../_images/data1.png" />
<p>Der Einfachheit halber können wir eine Kopie der Datensätze unter folgenden links herunterladen:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/Street_Centerlines.zip">Street_Centerlines.zip</a></p>
<p>Datenquelle: <a class="reference internal" href="../credits.html#dcopendata" id="id1">[DCOPENDATA]</a></p>
</div>
<div class="section" id="procedure">
<h2>Arbeitsablauf<a class="headerlink" href="#procedure" title="Link zu dieser Überschrift">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Suche die heruntergeladene Datei <code class="docutils literal"><span class="pre">Street_Centerlines.zip</span></code> im <span class="guilabel">Browser</span> Bereich. Erweitere die Datei und ziehe die Datei <code class="docutils literal"><span class="pre">Street_Centerlines.shp</span></code> in den Arbeitsbereich.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/110.png" class="align-center" src="../../_images/110.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p class="first">Wir sehen einen neuen Layer <code class="docutils literal"><span class="pre">Street_Centerlines</span></code> im <span class="guilabel">Layer</span> Bereich. Dieser Layer stellt alle Straßen in Washington DC dar. Wähle das Tool <span class="guilabel">Objekte abfragen</span> in der <span class="guilabel">Attributwerkzeugleiste</span>. Klicke auf einen beliebigen Straßenabschnitt, um die enthaltenen Attribute zu ermitteln. Man sieht Standardattribute wie den Straßennamen oder Straßentyp aber es gibt auch ein Attribut <code class="docutils literal"><span class="pre">DIRECTIONA</span></code>. Dieses Attribut ist für das Routing wichtig, es bestimmt in welcher Richtung der Verkehr erfolgt. Das Attribut enthält 4 verschiedene Werte. <code class="docutils literal"><span class="pre">Two</span> <span class="pre">Way</span></code> steht für Straßenabschnitte mit Gegenverkehr. <code class="docutils literal"><span class="pre">One</span> <span class="pre">Way</span> <span class="pre">(Digitizing</span> <span class="pre">direction)</span></code> steht für Einbahnstraßen, auf denen der Verkehr nur in der Richtung der Linie erfolgen darf (vom Startpunkt zum Endpunkt) und <code class="docutils literal"><span class="pre">One</span> <span class="pre">way</span> <span class="pre">(Against</span> <span class="pre">digitizing</span> <span class="pre">direction)</span></code> für Einbahnstraßen, auf denen der Verkehr nur entgegengesetzt der Linienrichtung erfolgen darf. Für den Wert <code class="docutils literal"><span class="pre">Unknown</span></code>, also unbekannt nehmen wir eine Straße mit Gegenverkehr an. Wir verwenden die hinterlegt Information jetzt, um einen Pfeil für Einbahnstraßen zu erzeugen.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/210.png" class="align-center" src="../../_images/210.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p class="first">Klicke auf den Knopf <span class="guilabel">Layergestaltungsfenster öffnen</span> im Bereich <span class="guilabel">Layer</span>. Wähle <code class="docutils literal"><span class="pre">Regelbasierend</span></code> als Darstellung aus dem drop-down Menü aus.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/310.png" class="align-center" src="../../_images/310.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p class="first">Wir werden einen neuen Layerstil mit Hilfe eines Filters für Einbahnstraßen erstellen. Klicke auf den Knopf <span class="guilabel">Regel hinzufügen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/42.png" class="align-center" src="../../_images/42.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p class="first">Im Dialog <span class="guilabel">Regel bearbeiten</span> klicken wir auf den Knopf <span class="guilabel">Ausdruck</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/52.png" class="align-center" src="../../_images/52.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p class="first">Im <span class="guilabel">Ausdruckseditor</span> erweitern wir <span class="guilabel">Felder und Werte</span> in der mittleren Spalte. Wir wählen das Attribut <code class="docutils literal"><span class="pre">DIRECTIONA</span></code> und klicken in der rechten Spalte auf <span class="guilabel">Alle eindeutigen</span>. Es werden die 4 oben beschriebenen Werte angezeigt. Wir können später auf jeden der Werte doppelt klicken, um ihn in den Ausdruck einzufügen.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/62.png" class="align-center" src="../../_images/62.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p class="first">Unser Ziel ist es, einen Ausdruck zu erzeugen, der alle Einbahnstraßen selektiert. Wir geben den folgenden Ausdruck ein und klicken auf <span class="guilabel">OK</span>.</p>
</li>
</ol>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre><span></span>&quot;DIRECTIONA&quot; = &#39;One way (Against digitizing direction)&#39; OR  &quot;DIRECTIONA&quot; =&#39;One Way (Digitizing direction)&#39;
</pre></div>
</div>
<img alt="../../_images/72.png" class="align-center" src="../../_images/72.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li>Next, change the <span class="guilabel">Symbol layer type</span> to <code class="docutils literal"><span class="pre">Marker</span> <span class="pre">line</span></code>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/82.png" class="align-center" src="../../_images/82.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li>Select <code class="docutils literal"><span class="pre">on</span> <span class="pre">center</span> <span class="pre">point</span></code> under <span class="guilabel">Marker placement</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/92.png" class="align-center" src="../../_images/92.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li>Click on the <code class="docutils literal"><span class="pre">Simple</span> <span class="pre">marker</span></code> symbol. Scroll down and pick the <code class="docutils literal"><span class="pre">filled_arrowhead</span></code> marker. You will see that the arrow-like symbol now appears on the one-way streets. But all of them are pointing in a single direction, whereas we know that our filter contains roads in multiple directions. We can further refine the symbols with a data-defined override for the <span class="guilabel">Rotation</span> value.</li>
</ol>
<blockquote>
<div><img alt="../../_images/102.png" class="align-center" src="../../_images/102.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li>Click the <span class="guilabel">Data defined override</span> button next to <span class="guilabel">Rotation</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/112.png" class="align-center" src="../../_images/112.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li>We can put a conditional expression that returns different rotation value depending on the one-way direction. A simple 0 or 180 degree rotation works to account for the direction, but it works only for horizontal lines. To align the arrow-head perpendicular to all the lines - we need to account for the angle of the line in the expression as well. The <code class="docutils literal"><span class="pre">angle_at_vertex</span></code> function helps us find the angle and use it in the expression. Enter the following expression and click <span class="guilabel">OK</span>.</li>
</ol>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre><span></span>CASE
  WHEN &quot;DIRECTIONA&quot; =  &#39;One Way (Digitizing direction)&#39;
    THEN angle_at_vertex($geometry, 1) - 90
  WHEN &quot;DIRECTIONA&quot; =  &#39;One way (Against digitizing direction)&#39;
    THEN angle_at_vertex($geometry, 1) - 90 + 180
END
</pre></div>
</div>
<img alt="../../_images/122.png" class="align-center" src="../../_images/122.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li>Now you will see the arrow-heads aligned to the correct road direction and angle. To keep the style uncluttered, we are choosing to display arrows only on one-way streets. Unlabeled streets are assumed to be two-way. Now that we have the network styled correctly, we can do some analysis. Go to <span class="menuselection">Processing ‣ Toolbox</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/132.png" class="align-center" src="../../_images/132.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li>Search for and locate the <span class="menuselection">Network analysis ‣ Shortest path (point to point)</span> algorithm. Double-click to launch it.</li>
</ol>
<blockquote>
<div><img alt="../../_images/142.png" class="align-center" src="../../_images/142.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li>In the <span class="guilabel">Shortest Path (Point to Point)</span> dialog, select <code class="docutils literal"><span class="pre">Street_Centerlines</span></code> as the <span class="guilabel">Vector layer representing network</span>.  Keep the <span class="guilabel">Path type to calculate</span> as <code class="docutils literal"><span class="pre">Shortest</span></code>. Next we need to pick a start and end point. You can click the <span class="guilabel">...</span> button and click on any point on the network in the canvas. If you want to replicate the results in this tutorial, you can enter <code class="docutils literal"><span class="pre">-76.99730092166396,38.887624846748984</span></code> as the <span class="guilabel">Start point</span> and <code class="docutils literal"><span class="pre">-76.99154831062152,38.89151000569929</span></code> as the <span class="guilabel">End point</span>. Expand the <span class="guilabel">Advanced parameter</span> section. Choose <code class="docutils literal"><span class="pre">DIRECTIONA</span></code> as the <span class="guilabel">Direction field</span>. You must be familiar with the one-way direction values for forward and backward traffic flow. Enter <code class="docutils literal"><span class="pre">One</span> <span class="pre">Way</span> <span class="pre">(Digitizing</span> <span class="pre">direction)</span></code> as the <span class="guilabel">Value for forward direction</span> and <code class="docutils literal"><span class="pre">One</span> <span class="pre">way</span> <span class="pre">(Against</span> <span class="pre">digitizing</span> <span class="pre">direction)</span></code> as the <span class="guilabel">Value for backward direction</span>. Keep other options to their default values and click <span class="guilabel">Run</span>.</li>
</ol>
<blockquote>
<div><img alt="../../_images/152.png" class="align-center" src="../../_images/152.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li>The algorithm will use the geometry of the layer and provided parameters to build a network graph. This graph is then used to find the shortest path between the start and end points. Once the algorithm finishes, you will see a new layer <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">path</span></code> added to the <span class="guilabel">Layers</span> panel that shows the shortest path between start and end points.</li>
</ol>
<blockquote>
<div><img alt="../../_images/162.png" class="align-center" src="../../_images/162.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li>You will see that there are many possible paths between start and end points. But given the constraints of the network - such as one-ways, the result is the shortest possible path. It is always a good idea to validate your analysis and assumptions. One easy way to validate it is to use a third-party mapping service to see if their results match with the ones we derived. Here is the shortest path <a class="reference external" href="https://goo.gl/maps/XwTXTkvuaCuteocr8">suggested by Google Maps</a> between the same start and end points. As you can see the recommended shortest route matches exactly with our results - validating our analysis.</li>
</ol>
<blockquote>
<div><img alt="../../_images/172.png" class="align-center" src="../../_images/172.png" />
</div></blockquote>
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Zuletzt aktualisiert am Sep 11, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/basic_network_analysis.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>