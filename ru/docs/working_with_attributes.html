<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Работа с атрибутами &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Importing Spreadsheets or CSV files (QGIS3)" href="3/importing_spreadsheets_csv.html" />
    <link rel="prev" title="Making a Map (QGIS3)" href="3/making_a_map.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Введение</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Работа с атрибутами</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Использование модулей расширения</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Поиск и загрузка данных OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Основная стилизация векторного слоя</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Подсчёт длины линий и статистики</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Основы работы со стилями и анализа растровых данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Создание мозаик и обрезка растров</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Работа с цифровой моделью рельефа</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Работа с данными WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Географическая привязка топографических листов и сканированных карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Привязка аэрофотоснимков</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Оцифровка картографических данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Установление связей между таблицами</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Выполнение пространственных присоединений</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Анализ количества точек в полигонах</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Создание тепловых карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Выполнение пространственных запросов</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Анализ ближайшего соседства</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Отбор проб растровых данных с помощью точек или полигонов</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Интерполяция точечных данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Использование QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Подсчет числа вершин в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Открытие файлов BIL, BIP или BSQ в QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Нахождение соседних полигонов в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Веб картография с QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Учебные материалы по QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Источники данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="3/making_a_map.html" title="Previous Chapter: Making a Map (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Making a Map (QGIS3)</span>
    </a>
  </li>
  <li>
    <a href="3/importing_spreadsheets_csv.html" title="Next Chapter: Importing Spreadsheets or CSV files (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Importing Spr... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>



  


<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="working-with-attributes">
<h1>Работа с атрибутами<a class="headerlink" href="#working-with-attributes" title="Ссылка на этот заголовок">¶</a></h1>
<p>Данные ГИС состоят из двух частей: объектов и атрибутов. Атрибуты - это структурированные данные о каждом объекте. Этот урок показывает, как просматривать атрибуты и делать базовые запросы к ним в QGIS.</p>
<div class="section" id="overview-of-the-task">
<h2>Обзор задачи<a class="headerlink" href="#overview-of-the-task" title="Ссылка на этот заголовок">¶</a></h2>
<p>Набор данных для этого урока содержит информацию о населенных местах мира. Задача заключается в том, чтобы запросить и найти все столицы в мире с населением более чем 1.000.000.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Вы научитесь также<a class="headerlink" href="#other-skills-you-will-learn" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Выбирать объекты из слоя, используя выражения.</p>
</li>
<li><p class="first">Снимать выделение с объектов слоя, используя панель инструментов <span class="guilabel">Attributes</span>.</p>
</li>
<li><p class="first">Использовать <span class="guilabel">Query Builder</span> для просмотра подмножества объектов слоя.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Получение данных<a class="headerlink" href="#get-the-data" title="Ссылка на этот заголовок">¶</a></h2>
<p>Natural Earth has a nice <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-populated-places/">Populated Places</a>
dataset. Download the <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">simple (less columns) dataset</a></p>
<p>Для удобства вы можете загрузить наборы данных напрямую по ссылке ниже:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/ne_10m_populated_places_simple.zip">ne_10m_populated_places_simple.zip</a></p>
<p>Источник данных: <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Методика<a class="headerlink" href="#procedure" title="Ссылка на этот заголовок">¶</a></h2>
<ol class="arabic simple">
<li>Once you have downloaded the data, open QGIS. Go to <span class="menuselection">Layer
‣ Add Layer ‣ Add Vector Layer</span>.</li>
</ol>
<img alt="../_images/1158.png" class="align-center" src="../_images/1158.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Нажмите на <span class="guilabel">Browse</span> и перейдите к папке, в которую вы загрузили данные.</p>
</li>
</ol>
<img alt="../_images/2129.png" class="align-center" src="../_images/2129.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Найдите загруженный zip-файл <cite>ne_10m_populated_places_simple.zip</cite>. Вам не нужно распаковывать файл. QGIS может читать архивные файлы напрямую. Выберите файл и нажмите :guilabel: <cite>Открыть</cite>.</p>
</li>
</ol>
<img alt="../_images/372.png" class="align-center" src="../_images/372.png" />
<ol class="arabic simple" start="4">
<li><p class="first">Теперь выбранный слой будет загружен в QGIS, и вы увидите много точек, представляющих населенные пункты мира.</p>
</li>
</ol>
<img alt="../_images/443.png" class="align-center" src="../_images/443.png" />
<ol class="arabic simple" start="5">
<li>Right-click the layer and select <span class="guilabel">Open Attribute Table</span>.</li>
</ol>
<img alt="../_images/544.png" class="align-center" src="../_images/544.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Исследуйте различные атрибуты и их значения.</p>
</li>
</ol>
<img alt="../_images/641.png" class="align-center" src="../_images/641.png" />
<ol class="arabic simple" start="7">
<li><p class="first">Нас интересует население каждого объекта, так что <cite>pop_max</cite> является искомым полем. Вы можете дважды щелкнуть на заголовке поля для сортировки столбца в порядке убывания.</p>
</li>
</ol>
<img alt="../_images/740.png" class="align-center" src="../_images/740.png" />
<ol class="arabic simple" start="8">
<li>Now we are ready to perform our query on these attributes. QGIS uses
SQL-like expressions to perform queries. Click <span class="guilabel">Select features
using an expression</span>.</li>
</ol>
<img alt="../_images/838.png" class="align-center" src="../_images/838.png" />
<ol class="arabic simple" start="9">
<li>In the <span class="guilabel">Select By Expression</span> window, expand the <span class="guilabel">Fields
and Values</span> section and double-click the <code class="docutils literal"><span class="pre">pop_max</span></code> label.  You will notice
that it is added to the expression section at the bottom.  If you aren&#8217;t
sure about the field values, you can click the <span class="guilabel">Load all unique
values</span> to see what the attribute values are present in the dataset. For
this exercise, we are looking to find all features that have a population
greater than <code class="docutils literal"><span class="pre">1,000,000</span></code>. So complete the expression as below and click
<span class="guilabel">Select</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;pop_max&quot; &gt; 1000000
</pre></div>
</div>
<img alt="../_images/937.png" class="align-center" src="../_images/937.png" />
<ol class="arabic simple" start="10">
<li>Click on <span class="guilabel">Close</span> and return to the main QGIS window. You will
notice that a subset of points is now rendered in yellow. This is the
result of our query and you are seeing all places from the dataset that
have the <code class="docutils literal"><span class="pre">pop_max</span></code> attribute value greater than <code class="docutils literal"><span class="pre">1,000,000</span></code>.</li>
</ol>
<img alt="../_images/1037.png" class="align-center" src="../_images/1037.png" />
<ol class="arabic simple" start="11">
<li>The goal for this exercise is to find the places that are country capitals.
The field containing this data is <cite>adm0cap</cite>. The value <code class="docutils literal"><span class="pre">1</span></code> indicates that
the place is a capital. We can add this criteria to our previous expression
using the <code class="docutils literal"><span class="pre">and</span></code> operator. Let’s refine our query to select only those
places which are capitals.  Click on the <span class="guilabel">Select feature using an
expression</span> button in the attribute table and enter the expression as below
and click <span class="guilabel">Select</span> and then <span class="guilabel">Close</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;pop_max&quot; &gt; 1000000 and &quot;adm0cap&quot; = 1
</pre></div>
</div>
<img alt="../_images/1159.png" class="align-center" src="../_images/1159.png" />
<ol class="arabic simple" start="12">
<li>Return to the main QGIS window. Now you will see a smaller subset of the
points selected. This is the result of the second query and shows all
places from the dataset that are country capitals as well as have
population greater than 1,000,000. If we wanted to do some further analysis
on this subset of data, we can make this selection persistent. Right-click
the <code class="docutils literal"><span class="pre">ne_10m_populated_places_simple</span></code> layer and select
<span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../_images/1237.png" class="align-center" src="../_images/1237.png" />
<ol class="arabic simple" start="13">
<li>In the <span class="guilabel">General</span> tab, scroll down to the <span class="guilabel">Feature
subset</span> section. Click <span class="guilabel">Query Builder</span>.</li>
</ol>
<img alt="../_images/1335.png" class="align-center" src="../_images/1335.png" />
<ol class="arabic simple" start="14">
<li>Enter the same expression you had entered earlier and click <span class="guilabel">OK</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;pop_max&quot; &gt; 1000000 and &quot;adm0cap&quot; = 1
</pre></div>
</div>
<img alt="../_images/1434.png" class="align-center" src="../_images/1434.png" />
<ol class="arabic simple" start="15">
<li>Back in the main QGIS window, you will see rest of the points disappear.
You may now perform any other analysis on this layer and only the features
that match our expression will be used. You will notice that the points
still appear in yellow. This is because they are still selected. Find the
<span class="guilabel">Deselect Features from All Layers</span> button under the
<span class="guilabel">Attributes</span> toolbar and click on it.</li>
</ol>
<img alt="../_images/1531.png" class="align-center" src="../_images/1531.png" />
<ol class="arabic simple" start="16">
<li>You will see that the points are now de-selected and rendered in their
original color.</li>
</ol>
<img alt="../_images/1629.png" class="align-center" src="../_images/1629.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Ujaval Gandhi.<br/>
      Обновлено: Apr 04, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/working_with_attributes.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>