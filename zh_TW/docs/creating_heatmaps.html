<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>製作熱區圖 &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">簡介</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">製作地圖 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">匯入工作表或 CSV 檔 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">地形資料的操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">WMS 資料的操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">投影的操作</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">為紙本地圖進行空間對位 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">為空照圖進行空間對位 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">把地圖數位化</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">資料表連接 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">空間連接 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">製作熱區圖 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/animating_time_series.html">Animating Time Series Data (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">點資料內插法</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">使用處理框架進行批次處理 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">利用處理建模自動執行複雜的工作流程 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/multi_criteria_overlay.html">Multi Criteria Overlay Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">使用 QGIS 瀏覽器</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">在 QGIS 中開啟 BIL、BIP 或 BSQ 格式檔案</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Python 程式設計的初步上手 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">以 Python 製作附加元件 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_plugin.html">Building a Processing Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">使用自訂的 Python 表達式函數 (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">撰寫 Python 腳本並在處理框架下執行（QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">執行 QGIS 工作排程</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">資料表連接 (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">使用 QGIS2Web 線上製圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">用 QTiles 製作底圖</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">使用附加元件</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">搜尋和下載開放街圖資料</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS 學習資源</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">資料來源</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">使用處理框架進行批次處理 (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I offer QGIS.org certified training courses for all levels of users. Please visit
<a href="https://spatialthoughts.com/training" target="_blank">Spatial Thoughts</a> to learn more.</p>

<hr>
<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="creating-heatmaps">
<h1>製作熱區圖<a class="headerlink" href="#creating-heatmaps" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">警告</p>
<p class="last">本教學已經過時，如需閱讀新的版本請前往 <a class="reference internal" href="3/creating_heatmaps.html"><em>製作熱區圖 (QGIS3)</em></a>。</p>
</div>
<p>熱區圖（Heatmap）最適合用來呈現高密度的點資料。它可用於識別點資料中的高度密集區域，在<cite>叢集分析</cite>或<cite>熱點分析</cite>的操作中也非常有用。</p>
<div class="section" id="overview-of-the-task">
<h2>內容說明<a class="headerlink" href="#overview-of-the-task" title="Permalink to this headline">¶</a></h2>
<p>我們會使用 2011 年在英國薩里郡（Surrey）的犯罪地點資料，找出郡內犯罪的熱點區域。</p>
<div class="section" id="other-skills-you-will-learn">
<h3>你還會學到這些<a class="headerlink" href="#other-skills-you-will-learn" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p class="first">如何為高密度的點資料進行<em>熱點分析</em>或<em>叢集分析</em>。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>取得資料<a class="headerlink" href="#get-the-data" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://data.police.uk">data.police.uk</a> 以 CSV 檔格式，提供街頭犯罪與其結果，以及街頭攔檢的資料。</p>
<p>從 <a class="reference external" href="https://data.police.uk/data/">Surrey Police</a> 下載資料並解壓後，就可得到 CSV 檔。</p>
<p>為了方便起見，你也可以直接用下面的連結下載：</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/2015-08-surrey-street.csv">2015-08-surrey-street.csv</a></p>
<p>資料來源 <a class="reference internal" href="credits.html#policeuk" id="id1">[POLICEUK]</a></p>
</div>
<div class="section" id="procedure">
<h2>操作流程<a class="headerlink" href="#procedure" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">首先，要把 CSV 檔匯入 QGIS 中 (細節請參考 <a class="reference internal" href="importing_spreadsheets_csv.html"><em>匯入工作表或 CSV 檔</em></a>)。選擇 <span class="menuselection">圖層 ‣ 加入分隔文字圖層</span>。</p>
</li>
</ol>
<img alt="../_images/1149.png" class="align-center" src="../_images/1149.png" />
<ol class="arabic simple" start="2">
<li><p class="first">找到並開啟 <code class="docutils literal"><span class="pre">2015-08-surrey-street.csv</span></code> (如果你是從他們網站直接下載的話，檔名可能會有些許不同)。檔案格式選擇 <span class="guilabel">CSV (逗號分欄值)</span> 後，可以看到 <code class="docutils literal"><span class="pre">Longitude</span></code> 和 <code class="docutils literal"><span class="pre">Latitude</span></code> 欄位自動帶入到 X 和 Y 座標了。勾選 <span class="guilabel">使用空間索引</span>，可以加快在此圖層上操作的速度，最後按下 <span class="guilabel">確定</span>。</p>
</li>
</ol>
<img alt="../_images/2104.png" class="align-center" src="../_images/2104.png" />
<ol class="arabic simple" start="3">
<li><p class="first">載入時可能會看到一些錯誤，在本教學中可以先忽略它們。按下 <span class="guilabel">關閉</span> 即可。</p>
</li>
</ol>
<img alt="../_images/356.png" class="align-center" src="../_images/356.png" />
<ol class="arabic simple" start="4">
<li><p class="first">資料被讀到 QGIS 後，你會看到一個警告框寫著 <span class="guilabel">CRS was undefined: defaulting to CRS EPSG:4326 - WGS84</span>。這是因為 CSV 載入程式的設定是如果你的座標是經緯度，那麼預設會用 EPSG:4326 來處理投影。在其他狀況下，會有一個視窗跳出來問你資料所使用的座標系統。因為我們的資料是以 EPSG:4326 投影，所以儘管忽略此警告沒關係。（譯按：隨著 QGIS 版本不同，也有可能會要求你輸入座標系統，這時選 EPSG:4326 即可。）</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">註解</p>
<p class="last">如果要改變自動指定的 CRS，可以到 menuselection:<cite>向量 &#8211;&gt; 資料管理工具 &#8211;&gt; 定義目前投影</cite> 中修改。</p>
</div>
<img alt="../_images/438.png" class="align-center" src="../_images/438.png" />
<ol class="arabic simple" start="5">
<li><p class="first">稍微放大檢視資料，可以發現資料相當密集，很難快速判斷哪個區塊的點密度最高。這種情形下，就是熱區圖派上用場的時候。</p>
</li>
</ol>
<img alt="../_images/538.png" class="align-center" src="../_images/538.png" />
<ol class="arabic simple" start="6">
<li><p class="first">如果你是要製作純粹用來視覺化或是列印出來的熱區圖，QGIS 有個內建的圖例樣式就叫做 <span class="guilabel">熱區圖</span>，先來試試看這個吧。在 <code class="docutils literal"><span class="pre">2015-08-surrey-street</span></code> 圖層上按右鍵，選擇 <span class="guilabel">屬性</span>。</p>
</li>
</ol>
<img alt="../_images/636.png" class="align-center" src="../_images/636.png" />
<ol class="arabic simple" start="7">
<li><p class="first">在 <span class="guilabel">屬性</span> 視窗中切換到 <span class="guilabel">樣式</span> 的分頁，樣式類別設定成 <span class="guilabel">熱區圖</span>，你會看到有許多種不同的色階可以選，這裡我們來選個 <code class="docutils literal"><span class="pre">Oranges</span></code> 色階。其他參數保持不變，按下 <span class="guilabel">確定</span> 即可。</p>
</li>
</ol>
<img alt="../_images/736.png" class="align-center" src="../_images/736.png" />
<ol class="arabic simple" start="8">
<li><p class="first">如此一來就可以看到資料的熱區圖，換句話說就是犯罪密集度高的地方比較「<em>熱</em>」。在剛才的參數頁面中有非常多的選項，可以調整到最適合某筆資料的情況。如果你只是要弄一個視覺化或列印版本的熱區圖，那麼就已經完成了！不過，我們在這邊還要再看看另一種更強大的熱區圖製作方法，它可以讓你使用熱區圖的輸出資料進行後續分析。</p>
</li>
</ol>
<img alt="../_images/835.png" class="align-center" src="../_images/835.png" />
<ol class="arabic simple" start="9">
<li><p class="first">啟用核心附加元件 <code class="docutils literal"><span class="pre">熱區圖</span></code>，可參考 <a class="reference internal" href="using_plugins.html"><em>使用附加元件</em></a> 進行操作。啟用後，選擇 <span class="menuselection">影像 ‣ 熱區圖 ‣ 熱區圖</span>。</p>
</li>
</ol>
<img alt="../_images/936.png" class="align-center" src="../_images/936.png" />
<ol class="arabic simple" start="10">
<li><p class="first">在 <span class="guilabel">Heatmap附加元件</span> 的視窗中，<span class="guilabel">輸出影像</span> 欄位填上 <code class="docutils literal"><span class="pre">crime_heatmap</span></code> 當作輸出檔名，<span class="guilabel">半徑</span> 欄位填上 <cite>1000</cite>。這裡的「半徑」是指對每個像素而言，要使用多大的圓來計算有多少點涵蓋在內。把 <span class="guilabel">進階設定</span> 選項打開，這樣我們就能進一步設定輸出熱區圖的尺寸。在 <span class="guilabel">行</span> 欄位中輸入 <code class="docutils literal"><span class="pre">2000</span></code>，你會看到 <span class="guilabel">列</span> 欄位會自動更新。按下 <span class="guilabel">確定後</span> 就會開始製作熱區圖。</p>
</li>
</ol>
<img alt="../_images/1034.png" class="align-center" src="../_images/1034.png" />
<ol class="arabic simple" start="11">
<li><p class="first">程式跑完後，會有一個叫做 <code class="docutils literal"><span class="pre">crime_heatmap</span></code> 的圖層出現在畫布上。現在可以把 <code class="docutils literal"><span class="pre">2015-08-surrey-street</span></code> 圖層取消勾選了。</p>
</li>
</ol>
<img alt="../_images/1150.png" class="align-center" src="../_images/1150.png" />
<ol class="arabic simple" start="12">
<li><p class="first">讓我們來把這它弄得更像熱區圖，就像是早些時候的版本那樣。在熱區圖圖層上按右鍵選擇 <span class="guilabel">屬性</span>。</p>
</li>
</ol>
<img alt="../_images/1235.png" class="align-center" src="../_images/1235.png" />
<ol class="arabic simple" start="13">
<li><p class="first">在 <span class="guilabel">樣式</span> 分頁中，<span class="guilabel">繪圖類型</span> 選擇 <span class="guilabel">單波段偽彩色</span>，然後在 <span class="guilabel">載入最小/最大值</span> 欄位下方的 <span class="guilabel">精確程度</span>，勾選 <span class="guilabel">估算(較快)</span>，接著按下 <span class="guilabel">載入</span>。程式會找出熱區圖的像素最小值和最大值，以供我們製作適當的色階。接下來在 <span class="guilabel">產生新的色彩對映表</span> 欄位中，選擇 <span class="guilabel">YlOrRd</span> (黃-橘-紅) 當作色階，接著按下 <span class="guilabel">分類</span>，最後按 <span class="guilabel">確定</span>。</p>
</li>
</ol>
<img alt="../_images/1334.png" class="align-center" src="../_images/1334.png" />
<ol class="arabic simple" start="14">
<li><p class="first">現在就可以看到這個圖層變得比較像是熱區圖的感覺了。你可以使用 <span class="guilabel">識別圖徵</span> 工具，在熱區圖上的任一區點一下，就可以在結果視窗裡面看到這個像素的值。這個值代表圖層中有多少點落在這個像素周圍指定的區域內 (我們的例子是方圓 1000 公尺)。</p>
</li>
</ol>
<img alt="../_images/1433.png" class="align-center" src="../_images/1433.png" />
<ol class="arabic simple" start="15">
<li><p class="first">這張熱區圖可以儲存下來供未來使用，在許多時候，我們要找的是那些地方有相當高的點密度（也就是熱點，Hotspot），接下來我們就來看要怎麼操作。選擇 <span class="menuselection">影像 ‣ 影像計算</span>，</p>
</li>
</ol>
<img alt="../_images/1532.png" class="align-center" src="../_images/1532.png" />
<ol class="arabic simple" start="16">
<li><p class="first">第一步是要決定一個門檻值，值比這個門檻還高的像素，會被當作位於高濃度區域。對於此筆資料，我們先來試試看 <code class="docutils literal"><span class="pre">10</span></code> 吧。在 <span class="guilabel">影像計算</span> 視窗中，把輸出圖層命名為 <code class="docutils literal"><span class="pre">crime_hotspots</span></code>，然後按兩下在 <span class="guilabel">影像波段</span> 欄位中的 <code class="docutils literal"><span class="pre">cirme_heatmap&#64;1</span></code>，它就會被加入到下方的 <span class="guilabel">影像計算表示式</span> 當中。依照如下所示完成表示式，然後勾選 <span class="guilabel">將結果加入專案</span>，最後按下 <span class="guilabel">確定</span>。</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;crime_heatmap@1&quot; &gt; 10
</pre></div>
</div>
<img alt="../_images/1629.png" class="align-center" src="../_images/1629.png" />
<ol class="arabic simple" start="17">
<li><p class="first">接著 <code class="docutils literal"><span class="pre">crime_hotspots</span></code> 這個新圖層就會被加到 QGIS 中。這個圖層的像素值不是 0 就是 1，他們分別表示像素值小於等於 <code class="docutils literal"><span class="pre">10</span></code> 或大於 <code class="docutils literal"><span class="pre">10</span></code>。下一步選擇 <span class="menuselection">影像 ‣ 轉換 ‣ 轉換成多邊形 (影像轉為向量)</span>。</p>
</li>
</ol>
<img alt="../_images/1727.png" class="align-center" src="../_images/1727.png" />
<ol class="arabic simple" start="18">
<li><p class="first">把輸出檔命名為 <code class="docutils literal"><span class="pre">crime_hotspots_vector</span></code>，勾選 <span class="guilabel">欄位名稱</span> 以及 <span class="guilabel">處理完成後載入 QGIS 地圖中</span>，最後按 <span class="guilabel">確定</span>。（譯註：<span class="guilabel">欄位名稱</span> 請填上 <cite>DN</cite>。）</p>
</li>
</ol>
<img alt="../_images/1827.png" class="align-center" src="../_images/1827.png" />
<ol class="arabic simple" start="19">
<li><p class="first">轉換完成後，QGIS 就會載入 <code class="docutils literal"><span class="pre">crime_hotspots_vector</span></code>。這是我們在前一步驟所製作的熱點分布圖的向量化表示法。目前此圖層包含了 0 與 1 的集合，所以我們還要把 0 的集合濾掉之後，剩下 1 的集合才是熱點的分布區。在圖層上按右鍵，選擇 <span class="guilabel">開啟屬性表格</span>。</p>
</li>
</ol>
<img alt="../_images/1921.png" class="align-center" src="../_images/1921.png" />
<ol class="arabic simple" start="20">
<li><p class="first">在 <span class="guilabel">屬性表格</span> 視窗中按下 <span class="guilabel">使用表示式選取圖徵</span> 的按鈕。</p>
</li>
</ol>
<img alt="../_images/2015.png" class="align-center" src="../_images/2015.png" />
<ol class="arabic simple" start="21">
<li><p class="first">輸入如圖所示的表達式，按下 <span class="guilabel">選取</span>，然後 <span class="guilabel">關閉</span>。</p>
</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>&quot;DN&quot; = 0
</pre></div>
</div>
<img alt="../_images/2120.png" class="align-center" src="../_images/2120.png" />
<ol class="arabic simple" start="22">
<li><p class="first">在屬性視窗中，可以看到符合條件的圖徵被選取了。按下工具列的 <span class="guilabel">切換編輯模式</span>，然後再按下 <span class="guilabel">刪除已選取圖徵 (DEL)</span> 按鈕。</p>
</li>
</ol>
<img alt="../_images/2218.png" class="align-center" src="../_images/2218.png" />
<ol class="arabic simple" start="23">
<li><p class="first">把選取的圖徵刪除後，按下 <span class="guilabel">儲存編輯</span> 鈕，然後再按下 <span class="guilabel">切換編輯模式</span> 鈕把此圖層再次設定為唯讀。現在可以關閉屬性表視窗了。</p>
</li>
</ol>
<img alt="../_images/2315.png" class="align-center" src="../_images/2315.png" />
<ol class="arabic simple" start="24">
<li><p class="first">在 QGIS 主視窗中，取消 <code class="docutils literal"><span class="pre">crime_hotspots</span></code> 圖層的勾選。我們的最終圖層 <code class="docutils literal"><span class="pre">crime_hotspot_vector</span></code> 現已包含從熱區圖中擷取出來的熱點。至此為止，我們已從原始資料中使用精巧的方法收集了熱點，或許你可以從中發現什麼洞見，或是為這些資料做進一步的處理分析。</p>
</li>
</ol>
<img alt="../_images/2414.png" class="align-center" src="../_images/2414.png" />
</div>
</div>





  <div>If you liked tutorials on this site and do check out 
  <a href="http://spatialthoughts.com" target="_blank">spatialthoughts.com</a> for more free resources.
  </div>
  
  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      最後更新日期是 Jan 31, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/creating_heatmaps.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>