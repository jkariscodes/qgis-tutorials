<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creazione Automatica della Mappe con il compositore di Stampe Atlas &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduzione</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/working_with_attributes.html">Working with Attributes (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_vector_styling.html">Basic Vector Styling (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/calculating_line_lengths.html">Calculating Line Lengths and Statistics (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_styling_and_analysis.html">Basic Raster Styling and Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Lavorare con i dati del terrreno</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Lavorare con i dati WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/georeferencing_basics.html">Georeferenziazione carte topografiche e mappe scannerizzate (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/advanced_georeferencing.html">Georeferencing Aerial Imagery (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Vettorializzare mappe raster</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_table_joins.html">Performing Table Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_joins.html">Performing Spatial Joins (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/creating_heatmaps.html">Creating Heatmaps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/performing_spatial_queries.html">Performing Spatial Queries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/nearest_neighbor_analysis.html">Nearest Neighbor Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/sampling_raster_data.html">Sampling Raster Data using Points or Polygons (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolazione di dati puntuali</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/automating_map_creation.html">Automating Map Creation with Print Layout Atlas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/basic_network_analysis.html">Basic Network Visualization and Routing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/origin_destination_matrix.html">Locating Nearest Facility with Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/service_area_analysis.html">Service Area Analysis using Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Usare il browser di QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Aprire file in formato BIL, BIP o BSQ in QGIS.</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_algorithms_pyqgis.html">Running Processing Algorithms via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_python_scripts.html">Writing Python Scripts for Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Realizzare unioni tabellari (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usare i Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Cercare e scaricare i dati di OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Risorse disponibili per l&#8217;apprendimento di QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Fonti dei dati</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="automating-map-creation-with-print-composer-atlas">
<h1>Creazione Automatica della Mappe con il compositore di Stampe Atlas<a class="headerlink" href="#automating-map-creation-with-print-composer-atlas" title="Link a questa intestazione">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Avvertimento</p>
<p class="last">A new version of this tutorial is available at <a class="reference internal" href="3/automating_map_creation.html"><em>Automating Map Creation with Print Layout Atlas (QGIS3)</em></a></p>
</div>
<p>If your organization publishes printed or online maps, you often would need to
create many maps with the same template - usually one for each administrative
unit or a region of interest. Creating these maps manually can take a long time
and if you want to update these on a regular basis, it can turn into a chore.
QGIS has a tool called <code class="docutils literal"><span class="pre">Atlas</span></code> that can help you create a map template and
easily publish a large number of maps for different geographic regions. If you
are not familiar with the basics of Print Composer, please go through the
<a class="reference internal" href="making_a_map.html"><em>Realizzare e stampare una mappa</em></a> tutorial.</p>
<div class="section" id="overview-of-the-task">
<h2>Descrizione dell&#8217;esercizio<a class="headerlink" href="#overview-of-the-task" title="Link a questa intestazione">¶</a></h2>
<p>Questo tutorial mostra come creare la mappa delle paludi di ogni contea dello stato delle Hawaii</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Altri aspetti che avremo modo di apprendere nel corso dell&#8217;esercizio<a class="headerlink" href="#other-skills-you-will-learn" title="Link a questa intestazione">¶</a></h3>
<ul class="simple">
<li>How to use the <code class="docutils literal"><span class="pre">Inverted</span> <span class="pre">Polygons</span></code> style renderer to fill areas outside of polygons.</li>
<li>How to use an expression in the <code class="docutils literal"><span class="pre">Rule</span> <span class="pre">Based</span></code> style renderer to show only
the current feature in Atlas.</li>
<li>Apply expressions to create dynamic labels in Print Composer.</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Ottenere i dati necessari<a class="headerlink" href="#get-the-data" title="Link a questa intestazione">¶</a></h2>
<p>We will use the <a class="reference external" href="http://planning.hawaii.gov/gis/download-gis-data/">GIS Data Layers</a> from <a class="reference external" href="http://planning.hawaii.gov/">State of Hawaii -
Office of Planning</a></p>
<p>Download the <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/HI_Wetlands.shp.zip">Wetlands</a> layer from
Biologic and Ecologic category.</p>
<p>Download the <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/county10.shp.zip">Census County Boundaries 2010</a> layer from the
Cultural and Demographic category.</p>
<p>Per comodità, potete scaricare direttamente una copia di entrambi i dataset dal seguente link:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/HI_Wetlands.shp.zip">HI_Wetlands.shp.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/county10.shp.zip">county10.shp.zip</a></p>
<p>Fonte di Dati: <a class="reference internal" href="credits.html#hawaii" id="id1">[HAWAII]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedimento<a class="headerlink" href="#procedure" title="Link a questa intestazione">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Aprite QGIS e andate su <span class="menuselection">Layer ‣ Aggiungi Layer ‣Aggiungi vettore..</span>.</p>
</li>
</ol>
<img alt="../_images/1129.png" class="align-center" src="../_images/1129.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Individuate lo shapefile <code class="docutils literal"><span class="pre">HI_Wetlands.shp.zip</span></code> e selezionatelo. Fate click su <span class="guilabel">Apri</span>.</p>
</li>
</ol>
<img alt="../_images/269.png" class="align-center" src="../_images/269.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Selezionate il layer <code class="docutils literal"><span class="pre">HI_Wetlands_Poly</span></code> e fate click su <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/343.png" class="align-center" src="../_images/343.png" />
<ol class="arabic simple" start="4">
<li>You will see the polygons representing the wetlands in the entire state of
Hawaii. Since we want to make separate wetlands map for each county in the
state, we will need the county boundaries layer. Go to <span class="menuselection">Layer
‣ Add Layer ‣ Add Vector Layer</span> and browse to the <code class="docutils literal"><span class="pre">county10.shp.zip</span></code>
file. Click <span class="guilabel">Open</span>.</li>
</ol>
<img alt="../_images/427.png" class="align-center" src="../_images/427.png" />
<ol class="arabic simple" start="5">
<li><p class="first">Andate su <span class="menuselection">Project ‣ New Print Composer</span>.</p>
</li>
</ol>
<img alt="../_images/527.png" class="align-center" src="../_images/527.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Lasciate vuoto il titolo del compositore e cliccate <span class="guilabel">OK</span>.</p>
</li>
</ol>
<img alt="../_images/626.png" class="align-center" src="../_images/626.png" />
<ol class="arabic simple" start="7">
<li><p class="first">Andate su <span class="menuselection">Layout ‣ Add Map</span>.</p>
</li>
</ol>
<img alt="../_images/726.png" class="align-center" src="../_images/726.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Trascinate un rettangolo tenendo premuto il tasto sinistro del mouse nel punto in cui volete inserire la mappa.</p>
</li>
</ol>
<img alt="../_images/825.png" class="align-center" src="../_images/825.png" />
<ol class="arabic simple" start="9">
<li>Scroll down in the <span class="guilabel">Item Properties</span> tab and check the
<span class="guilabel">Controlled by atlas</span> box. This will indicate the composer that
the extent of the map displayed in this item will be determined by the
<code class="docutils literal"><span class="pre">Atlas</span></code> tool.</li>
</ol>
<img alt="../_images/926.png" class="align-center" src="../_images/926.png" />
<ol class="arabic simple" start="10">
<li>Switch to the <span class="guilabel">Atlas generation</span> tab. Check the
<span class="guilabel">Generate an atlas</span> box. Select the <code class="docutils literal"><span class="pre">county10</span></code> as the
<span class="guilabel">Coverage layer</span>. This will indicate that we want to create 1 map
each for every polygon feature in the <code class="docutils literal"><span class="pre">county10</span></code> layer. You can also
check the <span class="guilabel">Hidden coverage layer</span> so that the features themselves
will not appear on the map.</li>
</ol>
<img alt="../_images/1024.png" class="align-center" src="../_images/1024.png" />
<ol class="arabic simple" start="11">
<li>You will notice that the map image does not change after configuring the
Atlas settings. Go to <span class="menuselection">Atlas ‣ Preview Atlas</span>.</li>
</ol>
<img alt="../_images/1130.png" class="align-center" src="../_images/1130.png" />
<ol class="arabic simple" start="12">
<li>Now you will see the map refresh and show how individual map will look
like. Notice that it shows the current feature number from the coverage
layer at the bottom right.</li>
</ol>
<img alt="../_images/1226.png" class="align-center" src="../_images/1226.png" />
<ol class="arabic simple" start="13">
<li>You can preview how the map will look for each of the county polygons. Go
to <span class="menuselection">Atlas ‣ Next Feature</span>.</li>
</ol>
<img alt="../_images/1326.png" class="align-center" src="../_images/1326.png" />
<ol class="arabic simple" start="14">
<li>Atlas will render the map to the extent of the next feature in the coverage
layer.</li>
</ol>
<img alt="../_images/1425.png" class="align-center" src="../_images/1425.png" />
<ol class="arabic simple" start="15">
<li>Let&#8217;s add a label to the map. Go to <span class="menuselection">Layout ‣ Add Label</span>.</li>
</ol>
<img alt="../_images/1524.png" class="align-center" src="../_images/1524.png" />
<ol class="arabic simple" start="16">
<li>Under the <span class="guilabel">Item properties</span> tab, click <span class="guilabel">Insert an
expression...</span> button.</li>
</ol>
<img alt="../_images/1620.png" class="align-center" src="../_images/1620.png" />
<ol class="arabic simple" start="17">
<li>The label of the map can use the attributes from the coverage layer.he
<code class="docutils literal"><span class="pre">concat</span></code> function is used to join multiple text items into a single text
item. In this case we will join the value of the <code class="docutils literal"><span class="pre">NAME10</span></code> attribute of
the <code class="docutils literal"><span class="pre">county10</span></code> layer with the text <code class="docutils literal"><span class="pre">County</span> <span class="pre">of</span></code>. Add an expression like
below and click <span class="guilabel">OK</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;County of &#39;, &quot;NAME10&quot;)
</pre></div>
</div>
<ol class="arabic simple" start="18">
<li>Adjust the font size to your liking.</li>
</ol>
<img alt="../_images/1818.png" class="align-center" src="../_images/1818.png" />
<ol class="arabic simple" start="19">
<li>Add another label and enter <code class="docutils literal"><span class="pre">Wetlands</span> <span class="pre">Map</span></code> under the <span class="guilabel">Main
properties</span>. Since there is no expression here, this text will remain the
same on all maps.</li>
</ol>
<img alt="../_images/1915.png" class="align-center" src="../_images/1915.png" />
<ol class="arabic simple" start="20">
<li>Go to <span class="menuselection">Atlas ‣ Last Feature</span> and verify that the map
labels do work as intended. You will notice that the wetland map has
polygons extending out in the ocean that looks ugly. We can change the
style to that areas outside the county boundaries are hidden.</li>
</ol>
<img alt="../_images/2010.png" class="align-center" src="../_images/2010.png" />
<ol class="arabic simple" start="21">
<li>Switch to the main QGIS window. Right-click the <code class="docutils literal"><span class="pre">county10</span></code> layer and
select <span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../_images/2116.png" class="align-center" src="../_images/2116.png" />
<ol class="arabic simple" start="22">
<li>In the <span class="guilabel">Style</span> tab, select the <span class="guilabel">Inverted polygons</span>
renderer. This renderer styles the <cite>outside</cite> of the polygon - not inside.
Select white as the fill color and click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/2214.png" class="align-center" src="../_images/2214.png" />
<ol class="arabic simple" start="23">
<li>Switch to the Print Composer window. If we want the effect of the inverted
polygons to show, we need to uncheck the <span class="guilabel">Hidden coverage layer</span>
box under <span class="guilabel">Atlas generation</span>. You will now see that the rendered
image is clean and areas outside the coverage polygon is not visible.</li>
</ol>
<img alt="../_images/2311.png" class="align-center" src="../_images/2311.png" />
<ol class="arabic simple" start="24">
<li>There is one problem though. You can see areas of the map that are outside
the coverage layer boundary but still visible. This is because Atlas
doesn&#8217;t automatically hide other features. This can be useful in some
cases, but for our purpose, we only want to show wetlands of the county
whose map is being generated. To fix this, switch back to the main QGIS
window and right-click the <code class="docutils literal"><span class="pre">county10</span></code> layer and select
<span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../_images/2411.png" class="align-center" src="../_images/2411.png" />
<ol class="arabic simple" start="25">
<li>In the <span class="guilabel">Style</span> tab, select <span class="guilabel">Rule-based</span> renderer as the
<span class="guilabel">Sub renderer</span>. Double-click the area under <span class="guilabel">Rule</span>.</li>
</ol>
<img alt="../_images/2510.png" class="align-center" src="../_images/2510.png" />
<ol class="arabic simple" start="26">
<li>Click the <span class="guilabel">...</span> button next to <span class="guilabel">Filter</span>.</li>
</ol>
<img alt="../_images/2610.png" class="align-center" src="../_images/2610.png" />
<ol class="arabic simple" start="27">
<li>In the <span class="guilabel">Expression string builder</span>, expand the <span class="guilabel">Atlas</span>
group of functions. The <code class="docutils literal"><span class="pre">$atlasfeatureid</span></code> function will return the
currently selected feature. We will construct an expression that will
select only the currently selected Atlas feature. Enter the expression as
below:</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>$id = $atlasfeatureid
</pre></div>
</div>
<img alt="../_images/277.png" class="align-center" src="../_images/277.png" />
<ol class="arabic simple" start="28">
<li>Back in the Print Composer window, click the <span class="guilabel">Update preview</span>
button under <span class="guilabel">Item properties</span> tab to see the changes. Notice
that now only the area covering the county boundary is shown.</li>
</ol>
<img alt="../_images/287.png" class="align-center" src="../_images/287.png" />
<ol class="arabic simple" start="29">
<li>We will now add another dynamic label to show the current date. Go to
<span class="menuselection">Layout ‣ Add Label</span> and select the area on the map. Click
<span class="guilabel">Insert an expression</span> button.</li>
</ol>
<img alt="../_images/296.png" class="align-center" src="../_images/296.png" />
<ol class="arabic simple" start="30">
<li>Expand the <span class="guilabel">Date and Time</span> functions group and you will find the
<code class="docutils literal"><span class="pre">$now</span></code> function. This holds the current system time. The function
<code class="docutils literal"><span class="pre">todate()</span></code> will convert this to a date string. Enter the expression as
below:</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;Created on: &#39;, todate($now))
</pre></div>
</div>
<img alt="../_images/304.png" class="align-center" src="../_images/304.png" />
<ol class="arabic simple" start="31">
<li>Add another label citing the data source. You may also add other map
elements such as a north arrow, scalebar etc. as described in
<a class="reference internal" href="making_a_map.html"><em>Realizzare e stampare una mappa</em></a> tutorial.</li>
</ol>
<img alt="../_images/3111.png" class="align-center" src="../_images/3111.png" />
<ol class="arabic simple" start="32">
<li>Once you are satisfied with the map layout, go to <span class="menuselection">Atlas ‣
Export Atlas as Images</span>.</li>
</ol>
<img alt="../_images/3210.png" class="align-center" src="../_images/3210.png" />
<ol class="arabic simple" start="33">
<li>Select a directory on your computer and click <span class="guilabel">Choose</span>.</li>
</ol>
<img alt="../_images/3310.png" class="align-center" src="../_images/3310.png" />
<ol class="arabic simple" start="34">
<li>The Atlas tool will now iterate through each feature in the coverage layer
and create a separate map image based on the template we created. You can
see the images in the directory once the process completes.</li>
</ol>
<img alt="../_images/344.png" class="align-center" src="../_images/344.png" />
<ol class="arabic simple" start="35">
<li>Here are the map images for refeence.</li>
</ol>
<img alt="../_images/35_1.jpg" class="align-center" src="../_images/35_1.jpg" />
<img alt="../_images/35_2.jpg" class="align-center" src="../_images/35_2.jpg" />
<img alt="../_images/35_3.jpg" class="align-center" src="../_images/35_3.jpg" />
<img alt="../_images/35_4.jpg" class="align-center" src="../_images/35_4.jpg" />
<img alt="../_images/35_5.jpg" class="align-center" src="../_images/35_5.jpg" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Ultimo aggiornamento Sep 17, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/automating_map_creation.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>