<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Dichtstbijzijnde faciliteit zoeken met Origin-Destination Matrix (QGIS3) &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../../index.html" />
    <link rel="next" title="Analyse Servicegebied met Openrouteservice (QGIS3)" href="service_area_analysis.html" />
    <link rel="prev" title="Basis netwerk visualisatie en routeren (QGIS3)" href="basic_network_analysis.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introductie</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Een kaart maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Werken met attributen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Werkbladen of CSV-bestanden importeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basis opmaken van vectoren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Lengten van lijnen en statistieken berekenen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basis opmaken en analyses van rasters (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Rasters mozaïeken en clippen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_terrain.html">Werken met gegevens over het terrein</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_wms.html">Werken met gegevens van WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_projections.html">Werken met projecties</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Topobladen en gescande kaarten voorzien van geoverwijzingen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Geo-verwijzingen voor satellietbeelden (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digitizing_basics.html">Kaartgegevens digitaliseren</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Samenvoegen van tabellen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Ruimtelijke samenvoegingen uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Heatmaps maken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Geanimeerde gegevens tijdreeks (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Handling Invalid Geometries (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Ruimtelijke query&#8217;s uitvoeren (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Analyse Nearest Neighbor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Monsters nemen van rastergegevens met behulp van punten of polygonen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpolating_point_data.html">Interpoleren van puntgegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS 3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Complexe werkstromen automatiseren met behulp van Grafische modellen bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Maken van kaarten automatiseren met Atlas van afdruklay-out (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Multi Criteria Overlay Analyse (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Basis netwerk visualisatie en routeren (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Dichtstbijzijnde faciliteit zoeken met Origin-Destination Matrix (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Analyse Servicegebied met Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_qgis_browser.html">De QGIS Browser gebruiken</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open_bil_bip_bsq_files.html">BIL-, BIP- of BSQ-bestanden openen in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Beginnen met programmeren in Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Algoritmes van Processing uitvoeren via Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Een plug-in in Python bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Een plug-in voor Processing bouwen (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Aangepaste Python expressie-functies gebruiken (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Python-scripts schrijven voor framework Processing (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Taken voor QGIS uitvoeren en in schema zetten</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins_pyqgis.html">Samenvoegen van tabellen uitvoeren (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_mapping_with_qgis2web.html">In kaart brengen op het web met QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Basiskaarten maken met QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_plugins.html">Plug-ins gebruiken</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Zoeken en downloaden van gegevens van OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">QGIS bronnen om te leren</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Gebruik van gegevens</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Massa verwerken met behulp van Framework Processing (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="basic_network_analysis.html" title="Previous Chapter: Basis netwerk visualisatie en routeren (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Basis netwerk...</span>
    </a>
  </li>
  <li>
    <a href="service_area_analysis.html" title="Next Chapter: Analyse Servicegebied met Openrouteservice (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Analyse Servi... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>I offer QGIS.org certified training courses for all levels of users. Please visit
<a href="https://spatialthoughts.com/training" target="_blank">Spatial Thoughts</a> to learn more.</p>

<hr>
<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="locating-nearest-facility-with-origin-destination-matrix-qgis3">
<h1>Dichtstbijzijnde faciliteit zoeken met Origin-Destination Matrix (QGIS3)<a class="headerlink" href="#locating-nearest-facility-with-origin-destination-matrix-qgis3" title="Permalink naar deze titel">¶</a></h1>
<p>In de vorige handleiding, <a class="reference internal" href="basic_network_analysis.html"><em>Basis netwerk visualisatie en routeren (QGIS3)</em></a>, leerden we hoe een netwerk te bouwen en het kortste pad tussen 2 punten te berekenen. We kunnen die techniek ook toepassen voor verschillende typen op netwerken gebaseerde analyses. Een van die toepassingen is om de <strong>Origin-Destination Matrix</strong> of <strong>OD Matrix</strong> te berekenen. Gegeven een set van punten van origine en een andere set voor bestemmingspunten kunnen we het kortste pad berekenen tussen elke paar van origine-bestemming en de reisafstand/tijd daartussen berekenen. Een dergelijke analyse is nuttig om de dichtstbijzijnde faciliteit tot een bepaald punt te lokaliseren. Een logistiek bedrijf zou, bijvoorbeeld, deze analyse kunnen gebruiken om de dichtstbijzijnde opslagplaats voor hun klanten te zoeken om bestelroutes te optimaliseren. Hier gebruiken we het algoritme Distance Matrix uit de plug-in <strong>QGIS Network Analysis Toolbox (QNEAT3)</strong> om de dichtstbijzijnde gezondheidsfaciliteit voor elk adres in de stad te zoeken.</p>
<div class="admonition note">
<p class="first admonition-title">Notitie</p>
<p class="last">Deze handleiding laat zien hoe uw eigen gegevens voor een netwerk te gebruiken om een origin-destination matrix te berekenen. Als u geen gegevens heeft voor een eigen netwerk kunt u de <strong>ORS Tools Plugin</strong> en het algoritme <span class="menuselection">ORS Tools ‣ Matrix ‣  Matrix from Layers</span> gebruiken om een soortgelijke analyse uit te voeren met behulp van gegevens van OpenStreetMap. Bekijk <a class="reference internal" href="service_area_analysis.html"><em>Analyse Servicegebied met Openrouteservice (QGIS3)</em></a> om te leren hoe de plug-in ORS Tools te gebruiken.</p>
</div>
<div class="section" id="overview-of-the-task">
<h2>Overzicht van de taak<a class="headerlink" href="#overview-of-the-task" title="Permalink naar deze titel">¶</a></h2>
<p>We zullen 2 lagen nemen voor Washington DC - een met punten die adressen weergeven en een andere met punten die faciliteiten voor geestelijke gezondheid weergeven - en de faciliteit zoeken met de minste reisafstand vanaf elk adres.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Andere vaardigheden die u zult leren<a class="headerlink" href="#other-skills-you-will-learn" title="Permalink naar deze titel">¶</a></h3>
<ul class="simple">
<li><p class="first">Een laagsgewijze willekeurig monster uit een puntenlaag uitnemen.</p>
</li>
<li><p class="first">Virtuele lagen gebruiken om een query van SQL uit te voeren op een laag van QGIS.</p>
</li>
<li><p class="first">De Python Console Editor gebruiken om een script voor PyQGIS uit te voeren.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>De gegevens ophalen<a class="headerlink" href="#get-the-data" title="Permalink naar deze titel">¶</a></h2>
<p>De overheid van het district of Columbia deelt gratis honderden gegevenssets in de <a class="reference external" href="https://opendata.dc.gov/">Open Data Catalog</a>.</p>
<p>Download de volgende gegevenslagen als Shapefiles.</p>
<ul class="simple">
<li><a class="reference external" href="https://opendata.dc.gov/datasets/street-centerlines">Street Centerlines</a></li>
<li><a class="reference external" href="https://opendata.dc.gov/datasets/address-points">Address Points</a></li>
<li><a class="reference external" href="https://opendata.dc.gov/datasets/adult-mental-health-providers">Adult Mental Health Providers</a></li>
</ul>
<p>Voor het gemak kunt u direct een kopie van de gegevensset downloaden vanaf de links hieronder:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/Street_Centerlines.zip">Street_Centerlines.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/Address_Points.zip">Address_Points.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/Adult_Mental_Health_Providers.zip">Adult_Mental_Health_Providers.zip</a></p>
<p>Gegevensbron: <a class="reference internal" href="../credits.html#dcopendata" id="id1">[DCOPENDATA]</a></p>
</div>
<div class="section" id="setup">
<h2>Instellen<a class="headerlink" href="#setup" title="Permalink naar deze titel">¶</a></h2>
<p>Ga naar <span class="menuselection">Plug-ins ‣ Plug-ins beheren en installeren</span>. Zoek naar de plug-in <strong>QNEAT3</strong> en installeer die. Klik op <span class="guilabel">Close</span>.</p>
<img alt="../../_images/setup12.png" class="align-center" src="../../_images/setup12.png" />
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Permalink naar deze titel">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Zoek in  het paneel <span class="guilabel">Browser</span> naar het bestand <code class="docutils literal"><span class="pre">Street_Centerlines.zip</span></code>. Vergroot het en sleep het bestand <code class="docutils literal"><span class="pre">Street_Centerlines.shp</span></code> naar het kaartvenster. Zoek op dezelfde wijze naar het bestand <code class="docutils literal"><span class="pre">Adult_Mental_Health_Providers.zip</span></code>, vergroot het en voeg <code class="docutils literal"><span class="pre">Adult_Mental_Health_Providers.shp</span></code> toe aan het kaartvenster.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1101.png" class="align-center" src="../../_images/1101.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p class="first">Zoek vervolgens naar het bestand <code class="docutils literal"><span class="pre">Address_Points.zip</span></code>, vergroot het en voeg het bestand <code class="docutils literal"><span class="pre">Address_Points.shp</span></code> toe. U zult heel veel punten zien in de stad. Elke punt geeft een geldig adres weer. We zullen nu willekeurig 1 punt in elke wijk selecteren om als punt van origine te gebruiken. Deze techniek wordt stratified sampling (laagsgewijze monsterneming) genoemd. Ga naar <span class="menuselection">Processing ‣ Toolbox</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/247.png" class="align-center" src="../../_images/247.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p class="first">Zoek en lokaliseer het algoritme <span class="menuselection">Vector selectie ‣ Willekeurige selectie binnen subsets</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/332.png" class="align-center" src="../../_images/332.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p class="first">Selecteer <code class="docutils literal"><span class="pre">Address_Points</span></code> als de <span class="guilabel">Invoerlaag</span>. Elk punt voor een adres bevat een attribuut genaamd <code class="docutils literal"><span class="pre">WARD_2012</span></code> waarin het nummer voor de wijk is gekoppeld aan het adres. We gebruiken dat attribuut als het <span class="guilabel">Veld ID</span> omdat we slechts 1 punt per wijk willen. Stel <span class="guilabel">Aantal/percentage geselecteerde objecten</span> in op <code class="docutils literal"><span class="pre">1</span></code>. Klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/417.png" class="align-center" src="../../_images/417.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p class="first">Een nieuwe laag <code class="docutils literal"><span class="pre">Uitgenomen</span> <span class="pre">(willekeurig</span> <span class="pre">gestratificeerd)</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/517.png" class="align-center" src="../../_images/517.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p class="first">Schakel de zichtbaarheid van de laag <code class="docutils literal"><span class="pre">Address_Points</span></code> uit. Klik met rechts op de laag <code class="docutils literal"><span class="pre">Uitgenomen</span> <span class="pre">(willekeurig</span> <span class="pre">gestratificeerd)</span></code> en selecteer <span class="guilabel">Laag hernoemen</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/617.png" class="align-center" src="../../_images/617.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p class="first">Laten we deze laag hernoemen naar <code class="docutils literal"><span class="pre">origin_points</span></code>. Hernoem op soortgelijke wijze de laag <code class="docutils literal"><span class="pre">Adult_Mental_Health_Providers</span></code> die de faciliteiten voor geestelijke gezondheid weergeeft als <code class="docutils literal"><span class="pre">destination_points</span></code>. Het op deze manier hernoemen van de lagen maakt het eenvoudiger om ze te identificeren in de aansluitende verwerking. Ga naar <span class="menuselection">Processing ‣ Toolbox</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/716.png" class="align-center" src="../../_images/716.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p class="first">Zoek naar het algoritme <span class="menuselection">QNEAT3 ‣ Distance matrices ‣ OD Matrix from Layers as Table (m:n)</span>. Als u dit algoritme niet ziet in de Toolbox, overtuig u er dan van dat u de plug-in <strong>QNEAT3</strong> hebt geïnstalleerd.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/816.png" class="align-center" src="../../_images/816.png" />
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p class="first">Dit algoritme helpt bij het zoeken naar de afstanden langs het netwerk tussen geselecteerde lagen voor origine en bestemming. Selecteer <code class="docutils literal"><span class="pre">Street_Centerlines</span></code> als de <span class="guilabel">Network layer</span>. Selecteer <code class="docutils literal"><span class="pre">origin_points</span></code> als de <span class="guilabel">From-Points layer</span> en <code class="docutils literal"><span class="pre">OBJECTID</span></code> als de <span class="guilabel">Unique Point ID field</span>. Stel op soortgelijke wijze <code class="docutils literal"><span class="pre">destination_points</span></code> in als de <span class="guilabel">To-Points Layer</span> en <code class="docutils literal"><span class="pre">OBJECTID</span></code> als het <span class="guilabel">Unique Point ID field</span>. Stel <span class="guilabel">Optimization Criterion</span> in op <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">Path</span></code>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/916.png" class="align-center" src="../../_images/916.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p class="first">Omdat veel straten in het netwerk een-richting zijn, moeten we de <span class="guilabel">Advanced parameters</span> instellen om de richting te specificeren. Bekijk <a class="reference internal" href="basic_network_analysis.html"><em>Basis netwerk visualisatie en routeren (QGIS3)</em></a> voor meer details over hoe deze attributen zijn gestructureerd. Kies <code class="docutils literal"><span class="pre">DIRECTIONA</span></code> als het <span class="guilabel">Direction field</span>. Voer <code class="docutils literal"><span class="pre">One</span> <span class="pre">Way</span> <span class="pre">(Digitizing</span> <span class="pre">direction)</span></code> als de waarde voor <span class="guilabel">Value for forward direction</span> en <code class="docutils literal"><span class="pre">One</span> <span class="pre">way</span> <span class="pre">(Against</span> <span class="pre">digitizing</span> <span class="pre">direction)</span></code> als die voor <span class="guilabel">Value for backward direction</span>. Laat de andere waarden op hun standaard waarde staan en klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1016.png" class="align-center" src="../../_images/1016.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p class="first">Een nieuwe tabellaag, genaamd <code class="docutils literal"><span class="pre">Output</span> <span class="pre">OD</span> <span class="pre">Matrix</span></code>, zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. Klik met rechts en selecteer <span class="guilabel">Attributentabel openen</span>. U zult zien dat de tabel <em>117</em> rijen bevat. We hadden 9 punten van origine en 13 bestemmingspunten - dus de uitvoer bevat <em>9x13 = 117</em> paren voor origine en bestemming. De kolom <code class="docutils literal"><span class="pre">total_cost</span></code> bevat de afstand in meters tussen elk punt van origine tot elke bestemmingspunt.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1119.png" class="align-center" src="../../_images/1119.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p class="first">Voor deze handleiding zijn we alleen geïnteresseerd in het bestemmingspunt met de kortste afstand. We kunnen een query voor SQL maken om de bestemming met de minste <code class="docutils literal"><span class="pre">total_cost</span></code> uit alle bestemmingen te kiezen. Ga naar <span class="menuselection">Database ‣ DB Manager..</span></p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1217.png" class="align-center" src="../../_images/1217.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p class="first">Selecteer, in het dialoogvenster <span class="guilabel">DB Manager</span>, de optie <span class="menuselection">Virtuele lagen ‣ Project-lagen ‣ Output OD Matrix</span> uit het paneel aan de linkerkant. Bekijk de documentatie <a class="reference external" href="https://docs.qgis.org/testing/nl/docs/user_manual/working_with_vector/virtual_layers.html">Virtuele lagen</a> om meer te leren. Klik op de knop <span class="guilabel">SQL-venster</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1316.png" class="align-center" src="../../_images/1316.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p class="first">Voer de volgende query in en klik op <span class="guilabel">Uitvoeren</span>. De resultaten zullen worden weergegeven in het paneel eronder. Zoals verwacht hebben we nu 9 rijen in het resultaat - de bestemming via het kortste pad naar elk punt van origine. Selecteer <span class="guilabel">Als nieuwe laag laden</span> en selecteer <code class="docutils literal"><span class="pre">origin_id</span></code> als <span class="guilabel">Kolom met unieke waarden</span>. Voer``nearest_destinations`` in als de <span class="guilabel">Laagnaam (prefix)</span>. Klik op <span class="guilabel">Laden</span>.</p>
</li>
</ol>
<blockquote>
<div><div class="highlight-none"><div class="highlight"><pre><span></span>select origin_id, destination_id, min(total_cost) as shortest_distance
from &#39;Output OD Matrix&#39; group by origin_id
</pre></div>
</div>
<img alt="../../_images/1415.png" class="align-center" src="../../_images/1415.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p class="first">Een nieuwe virtuele laag <code class="docutils literal"><span class="pre">nearest_destinations</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. Deze tabel bevat de resultaten van onze analyse. Het dichtstbijzijnde centrum voor geestelijke gezondheid voor elk van de 9 punten van origine. Laten we eens een paar verschillende manieren proberen om deze resultaten te visualiseren en te valideren. Ga naar <span class="menuselection">Processing ‣ Toolbox</span>. Zoek en lokaliseer het algoritme <span class="menuselection">Attributen koppelen op veldwaarde</span>. Dubbelklik erop om het te openen.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1514.png" class="align-center" src="../../_images/1514.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p class="first">Selecteer <code class="docutils literal"><span class="pre">origin_points</span></code> als de <span class="guilabel">Invoerlaag</span> en <code class="docutils literal"><span class="pre">OBJECTID</span></code> als het <span class="guilabel">Tabelveld</span>. Stel <code class="docutils literal"><span class="pre">nearest_destinations</span></code> in als de <span class="guilabel">Invoerlaag 2</span> en <code class="docutils literal"><span class="pre">origin_id</span></code> als het <span class="guilabel">Tabelveld 2</span>. Klik op de knop <span class="guilabel">…</span> naast <span class="guilabel">Velden van laag 2 om te kopiëren</span> en selecteer <code class="docutils literal"><span class="pre">destination_id</span></code> en <code class="docutils literal"><span class="pre">shortest_distance</span></code>. Klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1613.png" class="align-center" src="../../_images/1613.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p class="first">Een nieuwe <code class="docutils literal"><span class="pre">Samengevoegde</span> <span class="pre">laag</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. Deze laag heeft het attribuut ID van de nearest destination voor elk punt van origine. We kunnen nu een naaf-spaak visualisatie met deze laag maken. Zoek naar het algoritme <span class="menuselection">Vector analyse ‣ Samenvoegen op lijnen (naaflijnen)</span>. Klik er met rechts op om het te openen.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1714.png" class="align-center" src="../../_images/1714.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p class="first">Selecteer <code class="docutils literal"><span class="pre">destination_points</span></code> als de <span class="guilabel">Naaf puntlaag</span> en <code class="docutils literal"><span class="pre">OBJECTID</span></code> als het <span class="guilabel">Naaf ID-veld</span>. Selecteer <code class="docutils literal"><span class="pre">Samengevoegde</span> <span class="pre">laag`</span> <span class="pre">als</span> <span class="pre">de</span> <span class="pre">:guilabel:`Spaak</span> <span class="pre">puntlaag`</span> <span class="pre">en</span> <span class="pre">``destination_id</span></code> als het <span class="guilabel">Spaak ID-veld</span>. Klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1813.png" class="align-center" src="../../_images/1813.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p class="first">Als de verwerking eenmaal is voltooid zal een nieuwe laag <code class="docutils literal"><span class="pre">Naaflijnen</span></code> worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. Deze laag geeft de lijnen weer die elk punt van origine verbinden met de dichtstbijzijnde bestemming.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/1911.png" class="align-center" src="../../_images/1911.png" />
</div></blockquote>
<ol class="arabic simple" start="20">
<li><p class="first">Onthoud dat hoewel de lijnen het punt van origine en de bestemming verbinden met een rechte lijn, de bestemming werd gevonden met de afstand langs het netwerk. Het zal veel nuttiger zijn als de visualisatie het feitelijke kortste pad weergeeft tussen elk punt van origine en bestemming. Vanaf hier is er geen eenvoudige manier om het kortste pad te maken tussen meerdere paren origine-bestemming op de manier waarop we de afstandsmatrix hebben gemaakt. Maar ik zal een manier demonstreren om wat scripten voor Python te gebruiken om deze visualisatie te maken. Laten we eerst het algoritme voor het kortste pad uitvoeren op 1 paar. Zoek naar het algoritme <span class="menuselection">QNEAT3 ‣ Routing ‣ Shortest path (point to point)</span> en start het.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/209.png" class="align-center" src="../../_images/209.png" />
</div></blockquote>
<ol class="arabic simple" start="21">
<li><p class="first">Selecteer, in het dialoogvenster <span class="guilabel">Kortste pad (punt naar punt)</span>, <code class="docutils literal"><span class="pre">Street_Centerlines</span></code> als de <span class="guilabel">Vectorlaag die netwerk weergeeft</span>. Behoud het <span class="guilabel">Te berekenen type pad</span> als <code class="docutils literal"><span class="pre">Kortste</span></code>. Vervolgens dienen we een begin- en eindpunt te kiezen. U kunt op de knop <span class="guilabel">…</span> klikken en op een willekeurig punt in het kaartvenster klikken. Vergroot het gedeelte <span class="guilabel">Gevorderde parameters</span>. Kies <code class="docutils literal"><span class="pre">DIRECTIONA</span></code> als het <span class="guilabel">Richtingsveld</span>. Voer <code class="docutils literal"><span class="pre">One</span> <span class="pre">Way</span> <span class="pre">(Digitizing</span> <span class="pre">direction)</span></code> in als de <span class="guilabel">Waarde voor voorwaartse richting</span> en <code class="docutils literal"><span class="pre">One</span> <span class="pre">way</span> <span class="pre">(Against</span> <span class="pre">digitizing</span> <span class="pre">direction)</span></code> als de <span class="guilabel">Waarde voor achterwaartse richting</span>. Laat de andere waarden op hun standaard waarden staan en klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/2114.png" class="align-center" src="../../_images/2114.png" />
</div></blockquote>
<ol class="arabic simple" start="22">
<li><p class="first">Een nieuwe laag <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">Path</span> <span class="pre">Layer</span></code> zal worden toegevoegd aan het paneel <span class="guilabel">Lagen</span>. U zult zien dat dit pad het netwerk volgt in plaats van het punt van origine en bestemming te verbinden met een rechte lijn. De reden dat we het algoritme uitvoerden op 1 paar is om eenvoudig de waarden voor de parameters te identificeren die we in ons script kunnen gebruiken. Selecteer zowel <code class="docutils literal"><span class="pre">Naaflijnen</span></code> als <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">Path</span> <span class="pre">layer</span></code>, klik met rechts en selecteer <span class="guilabel">Laag verwijderen</span>. Klik op de knop <span class="guilabel">Geschiedenis</span> in de <span class="guilabel">Toolbox van Processing</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/2212.png" class="align-center" src="../../_images/2212.png" />
</div></blockquote>
<ol class="arabic simple" start="23">
<li><p class="first">Kies het bovenste algoritme en u zult de volledige opdracht zien weergegeven in het paneel eronder. Kopieer de opdracht en klik op <span class="guilabel">Close</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/2311.png" class="align-center" src="../../_images/2311.png" />
</div></blockquote>
<ol class="arabic simple" start="24">
<li><p class="first">Ga naar <span class="menuselection">Plug-ins ‣ Python Console</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/248.png" class="align-center" src="../../_images/248.png" />
</div></blockquote>
<ol class="arabic simple" start="25">
<li><p class="first">Klik op de knop <span class="guilabel">Editor tonen</span> in de <span class="guilabel">Python Console</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/256.png" class="align-center" src="../../_images/256.png" />
</div></blockquote>
<ol class="arabic simple" start="26">
<li><p class="first">Kopieer/plak het volgende script in het venster van de bewerker. Dit script gebruikt de waarden van de parameters uit de geschiedenis van Processing die we eerder zagen. Klik op de knop <span class="guilabel">Script uitvoeren</span> om de uitvoering te starten.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/266.png" class="align-center" src="../../_images/266.png" />
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">origin_layer</span> <span class="o">=</span>  <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">mapLayersByName</span><span class="p">(</span><span class="s1">&#39;origin_points&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">destination_layer</span> <span class="o">=</span>  <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">mapLayersByName</span><span class="p">(</span><span class="s1">&#39;destination_points&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">matrix</span> <span class="o">=</span>  <span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">mapLayersByName</span><span class="p">(</span><span class="s1">&#39;nearest_destinations&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">matrix</span><span class="o">.</span><span class="n">getFeatures</span><span class="p">():</span>
    <span class="n">origin_expr</span> <span class="o">=</span> <span class="n">QgsExpression</span><span class="p">(</span><span class="s1">&#39;OBJECTID={}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;origin_id&#39;</span><span class="p">]))</span>
    <span class="n">destination_expr</span> <span class="o">=</span> <span class="n">QgsExpression</span><span class="p">(</span><span class="s1">&#39;OBJECTID={}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;destination_id&#39;</span><span class="p">]))</span>
    <span class="n">origin_feature</span> <span class="o">=</span> <span class="n">origin_layer</span><span class="o">.</span><span class="n">getFeatures</span><span class="p">(</span><span class="n">QgsFeatureRequest</span><span class="p">(</span><span class="n">origin_expr</span><span class="p">))</span>
    <span class="n">origin_coords</span> <span class="o">=</span>  <span class="p">[(</span><span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">origin_feature</span><span class="p">]</span>
    <span class="n">destination_feature</span> <span class="o">=</span> <span class="n">destination_layer</span><span class="o">.</span><span class="n">getFeatures</span><span class="p">(</span><span class="n">QgsFeatureRequest</span><span class="p">(</span><span class="n">destination_expr</span><span class="p">))</span>
    <span class="n">destination_coords</span> <span class="o">=</span>  <span class="p">[(</span><span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">(),</span> <span class="n">f</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">asPoint</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">destination_feature</span><span class="p">]</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span><span class="s1">&#39;Street_Centerlines&#39;</span><span class="p">,</span>
        <span class="s1">&#39;START_POINT&#39;</span><span class="p">:</span><span class="s1">&#39;{},{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">origin_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">origin_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
        <span class="s1">&#39;END_POINT&#39;</span><span class="p">:</span><span class="s1">&#39;{},{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">destination_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">destination_coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
        <span class="s1">&#39;STRATEGY&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;ENTRY_COST_CALCULATION_METHOD&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;DIRECTION_FIELD&#39;</span><span class="p">:</span><span class="s1">&#39;DIRECTIONA&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALUE_FORWARD&#39;</span><span class="p">:</span><span class="s1">&#39;One Way (Digitizing direction)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALUE_BACKWARD&#39;</span><span class="p">:</span><span class="s1">&#39;One way (Against digitizing direction)</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="s1">&#39;VALUE_BOTH&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;DEFAULT_DIRECTION&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
        <span class="s1">&#39;SPEED_FIELD&#39;</span><span class="p">:</span><span class="bp">None</span><span class="p">,</span>
        <span class="s1">&#39;DEFAULT_SPEED&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
        <span class="s1">&#39;TOLERANCE&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span><span class="s1">&#39;memory:&#39;</span><span class="p">}</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Executing analysis&#39;</span><span class="p">)</span>
    <span class="n">processing</span><span class="o">.</span><span class="n">runAndLoadResults</span><span class="p">(</span><span class="s2">&quot;qneat3:shortestpathpointtopoint&quot;</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="27">
<li><p class="first">Het script zal enkele minuten duren om te worden uitgevoerd. Als het eenmaal is voltooid zult u 9 nieuwe lagen zien, genaamd <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">Path</span> <span class="pre">layer</span></code>. Laten we deze paden samenvoegen tot één enkele laag. Zoek naar het algoritme <span class="menuselection">Vector algemeen ‣ Vectorlagen samenvoegen</span> en start het.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/276.png" class="align-center" src="../../_images/276.png" />
</div></blockquote>
<ol class="arabic simple" start="28">
<li><p class="first">Selecteer alle 9 <code class="docutils literal"><span class="pre">Shortest</span> <span class="pre">Path</span> <span class="pre">layer</span></code> als de <span class="guilabel">Invoerlagen</span>. Klik op <span class="guilabel">Uitvoeren</span>.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/286.png" class="align-center" src="../../_images/286.png" />
</div></blockquote>
<ol class="arabic simple" start="29">
<li><p class="first">Een nieuwe laag <code class="docutils literal"><span class="pre">Samengevoegd</span></code> zal worden gemaakt die de kortste paden zal bevatten tussen onze punten van origine en bestemming.</p>
</li>
</ol>
<blockquote>
<div><img alt="../../_images/295.png" class="align-center" src="../../_images/295.png" />
</div></blockquote>
</div>
</div>





  <div>If you liked tutorials on this site and do check out 
  <a href="http://spatialthoughts.com" target="_blank">spatialthoughts.com</a> for more free resources.
  </div>
  
  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Laatste aanpassing op Jan 28, 2020.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/origin_destination_matrix.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>