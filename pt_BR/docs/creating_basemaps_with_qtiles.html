<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Criando Mapas Base utilizando QTiles &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="QGIS Learning Resources" href="learning_resources.html" />
    <link rel="prev" title="Web Mapping with QGIS2Web" href="web_mapping_with_qgis2web.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introdução</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Elaborando um Mapa</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabalhando com Atributos</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Using Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Basic Vector Styling</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calculando comprimento de linha e estatísticas</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Basic Raster Styling and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabalhando com Dados de Terreno</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Working with WMS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabalhando com Projeções</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georreferenciamento de Imagens Aéreas</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitizing Map Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Performing Table Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Performing Spatial Joins</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Points in Polygon Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Criando Mapas de Calor</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Performing Spatial Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Nearest Neighbor Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Sampling Raster Data using Points or Polygons</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolating Point Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/batch_processing.html">Batch Processing using Processing Framework (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="3/processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automating Map Creation with Print Composer Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Using the QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Contando o número de vértices em uma camada</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Open BIL, BIP or BSQ files in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Começando a Programar com o Phyton</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construindo um complemento com Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Using Custom Python Expression Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Writing Python Scripts for Processing Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Encontrar Polígonos Vizinhos em uma Camada</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Criando Mapas Base utilizando QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">QGIS Learning Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Créditos</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="web_mapping_with_qgis2web.html" title="Previous Chapter: Web Mapping with QGIS2Web"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Web Mapping with...</span>
    </a>
  </li>
  <li>
    <a href="learning_resources.html" title="Next Chapter: QGIS Learning Resources"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">QGIS Learning Re... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>



  


<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="creating-basemaps-with-qtiles">
<h1>Criando Mapas Base utilizando QTiles<a class="headerlink" href="#creating-basemaps-with-qtiles" title="Link permanente para este título">¶</a></h1>
<p>Tiles have revolutionized the idea of web mapping and has given us fast and
easy access to large datasets. Tiling schemes divide the world into small tiles
(typically 256 x 256 pixels) for each zoom level and pre-render datasets to
these tiles. This way only a small fraction of a large dataset is served to the
user at any given time - resulting in a map that can be zoomed or panned with
ease over the internet. There are many methods to create tiles from GIS
datasets. One easy way to create tiles from your QGIS project is a plugin
called <strong>QTiles</strong>. In this tutorial, you will learn how to create PNG tiles
from any set of layers loaded in QGIS and create a basemap to be used in a web
mapping project.</p>
<div class="section" id="overview-of-the-task">
<h2>Visão geral da tarefa<a class="headerlink" href="#overview-of-the-task" title="Link permanente para este título">¶</a></h2>
<p>Nós criaremos Tiles de todo o globo a partir do Raster Natural Earth.</p>
</div>
<div class="section" id="get-the-data">
<h2>Obtendo os dados<a class="headerlink" href="#get-the-data" title="Link permanente para este título">¶</a></h2>
<p>We will use the <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-raster-data/10m-natural-earth-2/">Natural Earth 2</a>
dataset from Natural Earth.</p>
<p>Download the medium-size <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/raster/NE2_LR_LC_SR_W_DR.zip">Natural Earth II with Shaded Relief, Water, and
Drainages</a>
zip file.</p>
<p>Data Source <a class="reference internal" href="credits.html#naturalearth" id="id1">[NATURALEARTH]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link permanente para este título">¶</a></h2>
<ol class="arabic simple">
<li>Unzip the downloaded <code class="docutils literal"><span class="pre">NE2_LR_LC_SR_W.zip</span></code> file to a folder on your
computer. Open QGIS and go to
<span class="menuselection">Layer ‣ Add Raster Layer</span>. Browse to the location of the
extracted files and select <code class="docutils literal"><span class="pre">NE2_LR_LC_SR_W.tif</span></code>. Click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/130.png" class="align-center" src="../_images/130.png" />
<ol class="arabic simple" start="2">
<li>Install the <code class="docutils literal"><span class="pre">QTiles</span></code> plugin by going to <span class="menuselection">Plugins ‣ Manage and
Install Plugin</span>. Note that the plugin is currently marked <strong>experimental</strong>,
so you will need to check <span class="guilabel">Show also experimental plugins</span> in
Plugin Settings. (See <a class="reference internal" href="using_plugins.html"><em>Using Plugins</em></a> for more details on installing
plugins in QGIS). Once the plugin is installed, go to
<span class="menuselection">Plugins ‣ QTiles ‣ QTiles</span>.</li>
</ol>
<img alt="../_images/224.png" class="align-center" src="../_images/224.png" />
<ol class="arabic simple" start="3">
<li>In the <span class="guilabel">QTiles</span> dialog, select <span class="guilabel">Directory</span> as the
<span class="guilabel">Output</span> and browse to a folder of your choice where the output
tiles will be created. Choose <span class="guilabel">Layer extent</span> of the
<code class="docutils literal"><span class="pre">NE2_LR_LC_SR_W</span></code> layer as the extent of the tiles. Set the
<span class="guilabel">Maximum Zoom</span> to <code class="docutils literal"><span class="pre">6</span></code>. Expand the <span class="guilabel">Parameters</span> section
and check the <span class="guilabel">Write Leaflet-based viewer</span>. Click <span class="guilabel">Run</span>
to start the process of rendering the tiles.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The number of tiles increase 4 times for every additional zoom level
and since our layer has an extend of the entire world - there will be millions
of tiles at higher zoom levels.</p>
</div>
<img alt="../_images/312.png" class="align-center" src="../_images/312.png" />
<ol class="arabic simple" start="4">
<li>Once the process finishes, close the <span class="guilabel">QTiles</span> dialog and browse to
the output folder you had selected. You will notice folders for each zoom
level upto the maximum zoom level. Each folder further contains subfolder
for X coordinates and then the actual tiles named for Y coordinates.</li>
</ol>
<img alt="../_images/49.png" class="align-center" src="../_images/49.png" />
<ol class="arabic simple" start="5">
<li>In the parent directory of top-level tiles directory, you will find a
<code class="docutils literal"><span class="pre">QTiles.html</span></code> file. This is a simple viewer to explore the tiles using the
Leaflet web mapping library.</li>
</ol>
<img alt="../_images/59.png" class="align-center" src="../_images/59.png" />
<ol class="arabic simple" start="6">
<li>Double-click the <code class="docutils literal"><span class="pre">QTiles.html</span></code> to open it in a web browser. You can zoom
and pan around to see the tiles seamlessly form the original raster layer.</li>
</ol>
<img alt="../_images/68.png" class="align-center" src="../_images/68.png" />
<ol class="arabic simple" start="7">
<li>You can use these tiles with any web-mapping library that supports XYZ
tiling schemes and overlay other layers on top. To demonstrate the
usefulness and portability of such tiles, we will now add the tiles created
in this tutorial as the basemap for the airports map created in
<a class="reference internal" href="web_mapping_with_qgis2web.html"><em>Web Mapping with QGIS2Web</em></a> tutorial. In that tutorial, we chose to use
a ready-made basemap from OpenStreetMap. We can easily swap that with our
own custom basemap created in this tutorial. Go to the output directory
where the qgis2web map was exported. Open the <span class="menuselection">Layers ‣
layers.js</span> file created during the export.</li>
</ol>
<img alt="../_images/78.png" class="align-center" src="../_images/78.png" />
<ol class="arabic simple" start="8">
<li>Locate the code block where the <code class="docutils literal"><span class="pre">OSM</span> <span class="pre">B</span> <span class="pre">&amp;</span> <span class="pre">W</span></code> base layer is defined.</li>
</ol>
<img alt="../_images/88.png" class="align-center" src="../_images/88.png" />
<ol class="arabic simple" start="9">
<li>Replace the definition of the base layer with our own tiles. At this point,
the tiles exist only on your computer, so the URL will be the local
directory. But you can also upload the tiles to a server and give the URL of
the server. Change the title and source with appropriate values for Natural
Earth. Save the file.</li>
</ol>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">layer</span><span class="p">.</span><span class="nx">Tile</span><span class="p">({</span>
 <span class="s1">&#39;title&#39;</span><span class="o">:</span> <span class="s1">&#39;Natural Earth 2&#39;</span><span class="p">,</span>
 <span class="s1">&#39;type&#39;</span><span class="o">:</span> <span class="s1">&#39;base&#39;</span><span class="p">,</span>
 <span class="nx">source</span><span class="o">:</span> <span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">XYZ</span><span class="p">({</span>
     <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;C://Users/Ujaval/Desktop/QTiles/{z}/{x}/{y}.png&#39;</span><span class="p">,</span>
     <span class="nx">attributions</span><span class="o">:</span> <span class="p">[</span><span class="k">new</span> <span class="nx">ol</span><span class="p">.</span><span class="nx">Attribution</span><span class="p">({</span><span class="nx">html</span><span class="o">:</span> <span class="s1">&#39;Made with Natural Earth. Free vector and raster map data @ naturalearthdata.com.&#39;</span><span class="p">})]</span>
 <span class="p">})</span>
<span class="p">})</span>
</pre></div>
</div>
<img alt="../_images/98.png" class="align-center" src="../_images/98.png" />
<ol class="arabic simple" start="10">
<li>Open the web map in a browser and you will see that the B &amp; W OSM layer is
replaced by our freshly created tiles.</li>
</ol>
<img alt="../_images/108.png" class="align-center" src="../_images/108.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Ujaval Gandhi.<br/>
      Última atualização em Feb 20, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/creating_basemaps_with_qtiles.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>