<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Análisis del Vecino Más Cercano (QGIS3) &#8212; QGIS Tutorials and Tips</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/translations.js"></script>
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)" href="sampling_raster_data.html" />
    <link rel="prev" title="Realizar Consultas Espaciales (QGIS3)" href="performing_spatial_queries.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>


<!-- Cookie Notice -->
<!-- Script from https://github.com/AOEpeople/cookie-notice -->
<script type="text/javascript" src="../../_static/cookie.notice.min.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B1WQ7B80XJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B1WQ7B80XJ');
</script>


  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><span><img src="../../_static/logo.png"></span>
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Haciendo un Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Trabajando con atributos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importar Hojas de Cálculo o archivos CSV (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Estilo Básico Vectorial (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Calcular Longitudes y Estadísticas de Línea (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Estilos y Análisis Básicos Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Mosaicar y Recortar Ráster (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Trabajar con Datos de Terreno (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Trabajar con Datos WMS (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Trabajar con Proyecciones (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferenciar Hojas Topográficas y Mapas Escaneados (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Georeferenciar Imágenes Aéreas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Digitalizar Datos del Mapa (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Realizar Uniones de Tablas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Realizar Uniones Espaciales (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Crear Mapas de Calor (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="animating_time_series.html">Animar Datos de Series de Tiempo (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_invalid_geometries.html">Manejar Geometrías No Válidas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Realizar Consultas Espaciales (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Análisis del Vecino Más Cercano (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_raster_analysis.html">Advanced Raster Analysis (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Interpolar Datos Punto (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_intersection_density.html">Calcular Densidad de Intersección de Calle (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automatizar Flujos de Trabajo Complejos usando el Modelador de Procesos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Automatización de la creación de mapas con el Atlas de diseñador de impresiones  (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi_criteria_overlay.html">Análisis de Sobreposición Multicriterio (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_network_analysis.html">Visualización y Enrutamiento Básico de Red (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="origin_destination_matrix.html">Localizando la Instalación Más Cercana con Matriz Origen-Destino (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="service_area_analysis.html">Análisis de Área de Servicio usando Openrouteservice (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="areal_mean_rainfall.html">Calcular la Precipitación Media de Área (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Iniciándote con la Programación Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_algorithms_pyqgis.html">Ejecutar Algoritmos de Procesamiento vía Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Usando Funciones de Expresión Python Personalizadas (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Escribir Scripts Python para el Marco de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Construyendo un Complemento Python (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_plugin.html">Construyendo un Complemento de Procesamiento (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Ejecutar y Programar Trabajos de Procesamiento QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Mapeo Web con QGIS2Web (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Creando Mapas Base con QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Usar Complementos (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Buscando y descargando datos de OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Recursos de aprendizaje QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Créditos de los Datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Procesamiento por Lotes usando el Marco de Procesamiento (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="performing_spatial_queries.html" title="Previous Chapter: Realizar Consultas Espaciales (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Realizar Cons...</span>
    </a>
  </li>
  <li>
    <a href="sampling_raster_data.html" title="Next Chapter: Muestrear Datos Ráster usando Puntos o Polígonos (QGIS3)"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Muestrear Dat... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>
<hr>
<p>Want to learn QGIS in a structured way? Check out <a href="https://spatialthoughts.com/" target="_blank">Spatial Thoughts Academy</a> for more learning materials and instructor-led online programs with QGIS.org certification.</p>

<hr>
<!-- EmailOctopus Form -->

<link rel="stylesheet"
      href="https://emailoctopus.com/bundles/emailoctopuslist/css/1.6/form.css"
>
<div class="emailoctopus-form-wrapper emailoctopus-form-default null"
     style="font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif; color: rgb(26, 26, 26);"
>
  <p class="emailoctopus-heading">
    Subscribe to my newsletter
  </p>
  <p class="emailoctopus-success-message">
  </p>
  <p class="emailoctopus-error-message">
  </p>
  <form action="https://emailoctopus.com/lists/7325d131-1dbb-11eb-a3d0-06b4694bee2a/members/embedded/1.3/add"
        method="post"
        data-message-success="Thanks for subscribing!"
        data-message-missing-email-address="Your email address is required."
        data-message-invalid-email-address="Your email address looks incorrect, please try again."
        data-message-bot-submission-error="This doesn't look like a human submission."
        data-message-consent-required="Please check the checkbox to indicate your consent."
        data-message-invalid-parameters-error="This form has missing or invalid fields."
        data-message-unknown-error="Sorry, an unknown error has occurred. Please try again later."
        class="emailoctopus-form"
  >
    <div class="emailoctopus-form-row">
      <label for="field_0">
        Email address
      </label>
      <input id="field_0"
             name="field_0"
             type="email"
             placeholder
             required="required"
      >
    </div>
    <div aria-hidden="true"
         class="emailoctopus-form-row-hp"
    >
      <input type="text"
             name="hpc4b27b6e-eb38-11e9-be00-06b4694bee2a"
             tabindex="-1"
             autocomplete="nope"
      >
    </div>
    <div class="emailoctopus-form-row-subscribe">
      <input type="hidden"
             name="successRedirectUrl"
      >
      <button type="submit"
              style="background-color: rgb(224, 224, 224); color: rgb(0, 0, 0); font-family: inherit;"
      >
        Subscribe
      </button>
    </div>
  </form>
</div>
<script src="https://emailoctopus.com/bundles/emailoctopuslist/js/1.6/form-embed.js">
</script>

<hr>


<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="fa">Persian</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      

  <section id="nearest-neighbor-analysis-qgis3">
<h1>Análisis del Vecino Más Cercano (QGIS3)<a class="headerlink" href="#nearest-neighbor-analysis-qgis3" title="Enlazar permanentemente con este título">¶</a></h1>
<p>El SIG es muy útil para analizar la relación espacial entre objetos espaciales. Uno de los análisis es descubrir qué objetos espaciales están más cerca a un objeto espacial dado. Hay múltiples maneras para hacer este análisis en QGIS. En este tutorial, exploraremos la <strong>Distancia al centro más cercano</strong> y las herramientas de <strong>Matriz de distancia</strong> para llevar a cabo el análisis del vecino más cercano.</p>
<section id="overview-of-the-task">
<h2>Vista general de la tarea<a class="headerlink" href="#overview-of-the-task" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Dadas las ubicaciones de todos los sismos significativos conocidos, descubrir los centros poblados más cercanos para cada ubicación donde ocurrió un sismo.</p>
<section id="other-skills-you-will-learn">
<h3>Otras habilidades que aprenderá<a class="headerlink" href="#other-skills-you-will-learn" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><p>Usar el representador <em>Generador de Geometría</em> para crear dinámicamente líneas a partir de una capa multipunto.</p></li>
</ul>
</section>
</section>
<section id="get-the-data">
<h2>Obtener los datos<a class="headerlink" href="#get-the-data" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Usaremos la <a class="reference external" href="http://www.ngdc.noaa.gov/nndc/struts/form?t=101650&amp;s=1&amp;d=1">Base de datos de Sismos Significativos</a> del National Geophysical Data Center de NOAA como nuestra capa que representa todos los sismos principales. Descargue los <a class="reference external" href="https://www.ngdc.noaa.gov/nndc/struts/results?type_0=Exact&amp;query_0=$ID&amp;t=101650&amp;s=13&amp;d=189&amp;dfn=signif.txt">datos de sismo delimitados por tabulación</a>.</p>
<p>Natural Earth tiene un agradable conjunto de datos de <a class="reference external" href="http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-populated-places/">Centros Poblados</a>. Descargue el <a class="reference external" href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/cultural/ne_10m_populated_places_simple.zip">conjunto de datos simple (menos columnas)</a>.</p>
<p>Para su comodidad, puede descargar directamente una copia de ambos conjuntos de datos desde los enlaces abajo:</p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/signif.txt">signif.txt</a></p>
<p><a class="reference external" href="https://www.qgistutorials.com/downloads/ne_10m_populated_places_simple.zip">ne_10m_populated_places_simple.zip</a></p>
<p>Data Sources: <a class="reference internal" href="../credits.html#ncei" id="id1"><span>[NCEI]</span></a> <a class="reference internal" href="../credits.html#naturalearth" id="id2"><span>[NATURALEARTH]</span></a></p>
</section>
<section id="procedure">
<h2>Procedimiento<a class="headerlink" href="#procedure" title="Enlazar permanentemente con este título">¶</a></h2>
<ol class="arabic simple">
<li><p>Ubique el archivo descargado <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple.zip</span></code> en el panel <span class="guilabel">Navegador</span> y expándalo. Arrastre el archivo <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple.shp</span></code> a la pantalla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1102.png" class="align-center" src="../../_images/1102.png" />
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Verá cargada una nueva capa <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple</span></code> en el panel <span class="guilabel">Capas</span>. Esta capa contiene los puntos que representan centros poblados. Ahora cargaremos la capa de sismos. Esta capa viene como un archivo texto <em>Valores Separados por Tabulaciones (TSV)</em>. Para cargar este archivo, clic el botón <span class="guilabel">Abrir Administrador de Fuente de Datos</span> en la <span class="guilabel">Barra de Herramientas de Fuente de Datos</span>. También puede usar el atajo de teclado <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd> <kbd class="kbd docutils literal notranslate"></kbd>+<kbd class="kbd docutils literal notranslate"></kbd> <kbd class="kbd docutils literal notranslate">L</kbd></kbd>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/259.png" class="align-center" src="../../_images/259.png" />
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>Clic el botón <span class="guilabel">…</span> junto a <span class="guilabel">Nombre de archivo</span> y navegue al archivo``signif.txt`` descargado. Una vez cargado, los campos <span class="guilabel">Formato de Archivo</span> y <span class="guilabel">Definición de Geometría</span> deberían autollenarse con los valores correctos. Clic en <span class="guilabel">Añadir</span> seguido por <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/335.png" class="align-center" src="../../_images/335.png" />
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Haga un acercamiento y explore ambos conjuntos de datos. Cada punto amarillo representa la ubicación de un sismo significativo y cada punto rojo representa la ubicación de un centro poblado. Nuestra meta es descubrir el punto más cercano de la capa centros poblados para cada punto de la capa sismos.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/417.png" class="align-center" src="../../_images/417.png" />
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Antes que hagamos el análisis, necesitamos limpiar nuestras entradas. La capa <code class="docutils literal notranslate"><span class="pre">signif</span></code> contiene varios registros sin sin una geometría válida. Estos registros fueron importados con una geometría <strong>NULA</strong>. Entonces, eliminemos estos registros primero. Vaya a <span class="menuselection">Procesos ‣ Caja de herramientas</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/518.png" class="align-center" src="../../_images/518.png" />
</div></blockquote>
<ol class="arabic simple" start="6">
<li><p>Busque y ubique la herramienta <span class="menuselection">Geometría vectorial ‣ Eliminar geometrías nulas</span>. Doble-clic para iniciarla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/618.png" class="align-center" src="../../_images/618.png" />
</div></blockquote>
<ol class="arabic simple" start="7">
<li><p>Seleccione <code class="docutils literal notranslate"><span class="pre">signif</span></code> como la <span class="guilabel">Capa de entrada</span> y clic en <span class="guilabel">Ejecutar</span>. Una vez que finalice el procesamiento, clic en <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/717.png" class="align-center" src="../../_images/717.png" />
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Verá una nueva capa llamada <code class="docutils literal notranslate"><span class="pre">Geometrías</span> <span class="pre">no</span> <span class="pre">nulas</span></code> cargada en el panel <span class="guilabel">Capas</span>. Usaremos esta capa en vez de la capa <code class="docutils literal notranslate"><span class="pre">signif</span></code> original en el análisis posterior. Desmarque la capa <code class="docutils literal notranslate"><span class="pre">signif</span></code> en el panel <span class="guilabel">Capas</span> para ocultarla. Ahora es momento de realizar un análisis de vecino más cercano. Busque y ubique la herramienta <span class="menuselection">Análisis de vector ‣ Distancia al eje más próximo (línea a eje)</span>. Doble-clic para iniciarla.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/817.png" class="align-center" src="../../_images/817.png" />
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si necesita una capa punto como salida, en vez de ello use la herramienta <em>Distancia al eje más próximo (puntos)</em>.</p>
</div>
<ol class="arabic simple" start="9">
<li><p>En el diálogo <span class="guilabel">Distancia al Eje Más Próximo (Línea a Eje)</span>, seleccione <code class="docutils literal notranslate"><span class="pre">Geometrías</span> <span class="pre">no</span> <span class="pre">nulas</span></code> como la <span class="guilabel">Capa de puntos fuente</span>. Seleccione <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple</span></code> como la <span class="guilabel">Capa de eje destino</span>. Seleccione <code class="docutils literal notranslate"><span class="pre">name</span></code> como el <span class="guilabel">Atributo de nombre de capa eje</span>. La herramienta también calculará la distancia en línea recta entre el centro poblado y el sismo más cercano. Defina <code class="docutils literal notranslate"><span class="pre">Kilómetros</span></code> como la <span class="guilabel">Unidad de medida</span>. Clic en <span class="guilabel">Ejecutar</span>. Una vez finalice el procesamiento, clic en <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/917.png" class="align-center" src="../../_images/917.png" />
</div></blockquote>
<ol class="arabic simple" start="10">
<li><p>De vuelta en la ventana principal QGIS, verá una nueva capa línea llamada <code class="docutils literal notranslate"><span class="pre">Distancia</span> <span class="pre">eje</span></code> cargada en el panel <span class="guilabel">Capas</span>. Esta capa tiene objetos espaciales línea que conectan cada punto sismo con el centro poblado más cercano. Clic-derecho a la capa <code class="docutils literal notranslate"><span class="pre">Distancia</span> <span class="pre">eje</span></code> y seleccione <span class="guilabel">Abrir Tabla de Atributos</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1019.png" class="align-center" src="../../_images/1019.png" />
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Deslice hacia la derecha a las últimas columnas y verá 2 nuevos atributos llamados <strong>HubName</strong> y <strong>HubDist</strong> agregados a los objetos originales de sismos. Este es el nombre de la distancia al vecino más cercano de la capa de centros poblados.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1122.png" class="align-center" src="../../_images/1122.png" />
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Nuestro análisis está completo. Podemos ahora explorar otra herramienta que también puede hacer un análisis similar. <strong>Matriz de Distancia</strong> es una herramienta poderosa que le permite no sólo calcular distancia al punto más cercano, sino a todos los puntos de otra capa. Podemos usar este método como una alternativa a la herramienta <em>Distancia al eje más cercano</em>. Desmarque la capa <code class="docutils literal notranslate"><span class="pre">Hub</span> <span class="pre">distance</span></code> para esconderla. Busque y localice la herramienta <span class="menuselection">Análisis de vector ‣ Matriz de distancia</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1220.png" class="align-center" src="../../_images/1220.png" />
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>En el diálogo <span class="guilabel">Matriz de distancia</span>, defina <code class="docutils literal notranslate"><span class="pre">Non</span> <span class="pre">null</span> <span class="pre">geometries</span></code> para la <span class="guilabel">Capa de puntos de entrada</span> y <code class="docutils literal notranslate"><span class="pre">I_D</span></code> como el <span class="guilabel">Campo ID único de entrada</span>. Defina <code class="docutils literal notranslate"><span class="pre">ne_10m_populated_places_simple</span></code> como la <span class="guilabel">Capa de puntos objetivo</span> y <code class="docutils literal notranslate"><span class="pre">name</span></code> como el <span class="guilabel">Campo ID único objetivo</span>. Seleccione <code class="docutils literal notranslate"><span class="pre">Matriz</span> <span class="pre">de</span> <span class="pre">distancia</span> <span class="pre">lineal</span> <span class="pre">(N*k</span> <span class="pre">x</span> <span class="pre">3)</span></code> como el <span class="guilabel">Tipo de matriz de salida</span>. La clave aquí es definir el parámetro <span class="guilabel">Usar sólo los puntos objetivos más cercanos (k)</span> como <code class="docutils literal notranslate"><span class="pre">1</span></code> - que le dará sólo el vecino más cercano en la salida. Clic en <span class="guilabel">Ejecutar</span> para iniciar el cálculo de la matriz. Una vez que termine el procesamiento, clic en <span class="guilabel">Cerrar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1319.png" class="align-center" src="../../_images/1319.png" />
</div></blockquote>
<ol class="arabic simple" start="14">
<li><p>Una vez que termine el procesamiento, se cargará una nueva capa llamada <code class="docutils literal notranslate"><span class="pre">Distance</span> <span class="pre">matrix</span></code>. Note que la salida de esta herramienta es una capa que contiene geometrías <em>MultiPunto</em>. Cada objeto contiene 2 puntos - fuente y objetivo. Abra la <span class="guilabel">Tabla de atributos</span> para la capa. Verá que cada objeto tiene atributos que mapean el sismo de su centro poblado más cercano. Note que la distancia aquí está en la unidades SRC de la capa (grados).</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1417.png" class="align-center" src="../../_images/1417.png" />
</div></blockquote>
<ol class="arabic simple" start="15">
<li><p>En este punto, puede guardar sus resultados en el formato de su elección haciendo clic-derecho en la capa y seleccionando <span class="menuselection">Exportar ‣ Guardar Objetos Como</span>. Si quiere visualizar mejor los resultados, podemos fácilmente crear una representación eje-radios a partir de la geometría de objetos. Clic-derecho en la capa <code class="docutils literal notranslate"><span class="pre">Distance</span> <span class="pre">matrix</span></code> y seleccione <span class="guilabel">Propiedades</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1516.png" class="align-center" src="../../_images/1516.png" />
</div></blockquote>
<ol class="arabic simple" start="16">
<li><p>En el diálogo <span class="guilabel">Propiedades</span>, cámbiese a la pestaña <span class="guilabel">Simbología</span>. Clic en el sub-representador <code class="docutils literal notranslate"><span class="pre">Marcador</span> <span class="pre">simple</span></code> y seleccione <code class="docutils literal notranslate"><span class="pre">Generador</span> <span class="pre">de</span> <span class="pre">geometría</span></code> como el <span class="guilabel">Tipo de capa de símbolo</span>. Defina <code class="docutils literal notranslate"><span class="pre">LineString</span> <span class="pre">/</span> <span class="pre">MultiLineString</span></code> como el <span class="guilabel">Tipo de geometría</span>. Clic el botón <span class="guilabel">Expresión</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1615.png" class="align-center" src="../../_images/1615.png" />
</div></blockquote>
<ol class="arabic simple" start="17">
<li><p>Aquí podemos ingresar una expresión para crear una geometría línea a partir de 2 puntos dentro de cada geometría fuente multi-punto. Ingrese la siguiente expresión.</p></li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make_line(point_n( $geometry, 1), point_n( $geometry, 2))
</pre></div>
</div>
<img alt="../../_images/1716.png" class="align-center" src="../../_images/1716.png" />
</div></blockquote>
<ol class="arabic simple" start="18">
<li><p>De vuelta en la pestaña <span class="guilabel">Simbología</span>, defina el estilo de la línea según su gusto y clic en <span class="guilabel">Aceptar</span>.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1814.png" class="align-center" src="../../_images/1814.png" />
</div></blockquote>
<ol class="arabic simple" start="19">
<li><p>Verá ahora la capa <code class="docutils literal notranslate"><span class="pre">Distance</span> <span class="pre">matrix</span></code> representada con líneas en vez de puntos. Note que no tuvimos que crear una nueva capa para esta visualización. La capa todavía contiene geometrías MultiPunto, pero es representada dinámicamente como líneas en base a la expresión.</p></li>
</ol>
<blockquote>
<div><img alt="../../_images/1913.png" class="align-center" src="../../_images/1913.png" />
</div></blockquote>
</section>
</section>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Actualizado por última vez en dic. 01, 2021.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.1.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/nearest_neighbor_analysis.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>