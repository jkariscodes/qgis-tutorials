<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Création automatisée de cartes avec l’Atlas de l’outil de mise en page (QGIS3) &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../../index.html" />
    <link rel="next" title="Using the QGIS Browser" href="../using_qgis_browser.html" />
    <link rel="prev" title="Automating Complex Workflows using Processing Modeler (QGIS3)" href="processing_graphical_modeler.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Making a Map (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_attributes.html">Travailler avec les attributs</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Importing Spreadsheets or CSV files (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_plugins.html">Using Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloading_osm_data.html">Searching and Downloading OpenStreetMap Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic_vector_styling.html">Basic Vector Styling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculating_line_lengths.html">Calculating Line Lengths and Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster_styling_and_analysis.html">Basic Raster Styling and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../raster_mosaicing_and_clipping.html">Raster Mosaicing and Clipping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_terrain.html">Working with Terrain Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_wms.html">Working with WMS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Georeferencing Topo Sheets and Scanned Maps (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced_georeferencing.html">Image aérienne géoréférencée</a></li>
<li class="toctree-l1"><a class="reference internal" href="../digitizing_basics.html">Digitizing Map Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins.html">Les Jointures de tables (JOIN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_spatial_joins.html">Effectuer des jointures spatiales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../points_in_polygon.html">Analyse des Points dans le Polygone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_heatmaps.html">Creating Heatmaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_spatial_queries.html">Performing Spatial Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nearest_neighbor_analysis.html">Analyse du voisin le plus proche</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sampling_raster_data.html">Sampling Raster Data using Points or Polygons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../interpolating_point_data.html">Interpolating Point Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Traitement par lots en utilisant le framework de traitement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Automating Complex Workflows using Processing Modeler (QGIS3)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Création automatisée de cartes avec l&#8217;Atlas de l&#8217;outil de mise en page (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_qgis_browser.html">Using the QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../counting_vertices.html">Counting Number of Vertices in a Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open_bil_bip_bsq_files.html">Open BIL, BIP or BSQ files in QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Getting Started With Python Programming (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Building a Python Plugin (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Using Custom Python Expression Functions (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Écrire des scripts Python pour la structure de traitement (QGIS3)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../find_neighbor_polygons.html">Find Neighbor Polygons in a Layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web_mapping_with_qgis2web.html">Web Mapping with QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../creating_basemaps_with_qtiles.html">Créer des fonds de carte avec QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learning_resources.html">Ressources pour l&#8217;apprentissage de QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credits.html">Crédits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../batch_processing.html">Batch Processing using Processing Framework (QGIS2)</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="processing_graphical_modeler.html" title="Previous Chapter: Automating Complex Workflows using Processing Modeler (QGIS3)"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Automating Co...</span>
    </a>
  </li>
  <li>
    <a href="../using_qgis_browser.html" title="Next Chapter: Using the QGIS Browser"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Using the QGI... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<h4>Subscribe to my mailing list</h4>
<p>Get occasional emails when I post new material or announce training events.</p>
<form action="https://spatialthoughts.us20.list-manage.com/subscribe/post?u=59d493847a7c7c2dbf12b21e6&amp;id=8fb09ab55c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_59d493847a7c7c2dbf12b21e6_8fb09ab55c" tabindex="-1" value=""></div>
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="automating-map-creation-with-print-layout-atlas-qgis3">
<h1>Création automatisée de cartes avec l&#8217;Atlas de l&#8217;outil de mise en page (QGIS3)<a class="headerlink" href="#automating-map-creation-with-print-layout-atlas-qgis3" title="Lien permanent vers ce titre">¶</a></h1>
<p>Si votre organisation publie des cartes papier ou en ligne, vous pouvez avoir besoin de créer plusieurs cartes à partir du même modèle, cela peut être une carte par zone administrative ou sur différentes régions. La création manuelle de ces cartes peut prendre du temps et si vous souhaitez les mettre à jour régulièrement, cela peut devenir une véritable corvée. QGIS dispose de l&#8217;outil  <code class="docutils literal"><span class="pre">Atlas</span></code>  qui peut vous permettre de créer un modèle utilisable pour les différentes régions à cartographier.
Si vous n&#8217;êtes pas familier avec l&#8217;outil de mise en page, vous pouvez reprendre le tutoriel <a class="reference internal" href="making_a_map.html"><em>Making a Map (QGIS3)</em></a></p>
<div class="section" id="overview-of-the-task">
<h2>Description de la tache<a class="headerlink" href="#overview-of-the-task" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ce tutoriel vous montre comment créer une carte des zones humides pour chaque région de l&#8217;état de Hawaii</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Autres compétences abordées<a class="headerlink" href="#other-skills-you-will-learn" title="Lien permanent vers ce titre">¶</a></h3>
<ul class="simple">
<li><p class="first">Utiliser le style &#8220;polygones inversé&#8221; pour représenter les zones hors des polygones.</p>
</li>
<li><p class="first">Réaliser un style basé sur une règle pour représenter uniquement les entités présentes dans un Atlas</p>
</li>
<li><p class="first">Ecrivez une expression pour créer des étiquettes dynamiques dans la mise en page.</p>
</li>
<li><p class="first">Utilier le style &#8220;Remplissage dégradé en suivant la forme&#8221; pour créer un remplissage avec deux couleurs.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Obtenir les données<a class="headerlink" href="#get-the-data" title="Lien permanent vers ce titre">¶</a></h2>
<p>Nous allons utiliser les données SIG &lt;<a class="reference external" href="http://planning.hawaii.gov/gis/download-gis-data/">http://planning.hawaii.gov/gis/download-gis-data/</a>&gt;`_ du service de planification de l&#8217;état de Hawaii  &lt;<a class="reference external" href="http://planning.hawaii.gov/">http://planning.hawaii.gov/</a>&gt;`_</p>
<p>Téléchargez la couche de   <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/HI_Wetlands.shp.zip">zones humides</a>  depuis la catégorie  Biologie et écologie.</p>
<p>Télécharger les données du <a class="reference external" href="http://files.hawaii.gov/dbedt/op/gis/data/county10.shp.zip">Recensement County Boundaries 2010</a>
depuis la catégorie culture et démographie</p>
<p>Par soucis de simplicité, les deux jeux de données sont téléchargeables directement aux liens ci-dessous:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/HI_Wetlands.shp.zip">HI_Wetlands.shp.zip</a></p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/county10.shp.zip">county10.shp.zip</a></p>
<p>Source des données <a class="reference internal" href="../credits.html#hawaii" id="id1">[HAWAII]</a></p>
</div>
<div class="section" id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Lien permanent vers ce titre">¶</a></h2>
<ol class="arabic simple">
<li><p class="first">Utilisez l&#8217;explorateur QGIS pour trouver le fichier &#8220;HI_Wetlands.sh.zip&#8221; et le décompresser. Sélectionnez le fichier &#8220;HI_Wetlands_Poly.shp&#8221; et glissez-le dans le canevas de carte. Cette couche contient des polygones qui représentent les marais dans l&#8217;état d&#8217;Hawaii.</p>
</li>
</ol>
<img alt="../../_images/1.png" class="align-center" src="../../_images/1.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Étant donné que nous souhaitons réaliser des cartes différentes pour chaque région de l&#8217;état, nous allons utiliser la couche de frontière. Trouver le fichier <code class="docutils literal"><span class="pre">county10.shp.zip</span></code> puis décompressez-le. Sélectionnez  le fichier &#8220;country10.shp&#8221; et glissez-le dans le canevas de carte.</p>
</li>
</ol>
<img alt="../../_images/2.png" class="align-center" src="../../_images/2.png" />
<ol class="arabic simple" start="3">
<li>Turn off the visibility of the <code class="docutils literal"><span class="pre">HI_Wetlands_Poly</span></code> layer temporarily. You will see the polygons from the <code class="docutils literal"><span class="pre">county10</span></code> layer clearly now. There are 5 features contained in this layer, with each feature having 1 or more polygons associated with it. The features represent 5 counties. We will use this layer as the coverage layer and configure QGIS to create 5 separate maps - one for each feature - automatically.</li>
</ol>
<img alt="../../_images/3.png" class="align-center" src="../../_images/3.png" />
<ol class="arabic simple" start="4">
<li>Turn on the visibility of the <code class="docutils literal"><span class="pre">HI_Wetlands_Poly</span></code> layer. Go to <span class="menuselection">Project ‣ New Print Layout..</span>.</li>
</ol>
<img alt="../../_images/4.png" class="align-center" src="../../_images/4.png" />
<ol class="arabic simple" start="5">
<li>Leave the print layout title empty and click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../../_images/5.png" class="align-center" src="../../_images/5.png" />
<ol class="arabic simple" start="6">
<li>In the <span class="guilabel">Print Layout</span> window, go to <span class="menuselection">Layout ‣ Add Map</span>.</li>
</ol>
<img alt="../../_images/6.png" class="align-center" src="../../_images/6.png" />
<ol class="arabic simple" start="7">
<li>Drag a rectangle while holding the left mouse button where you would like to insert the map.</li>
</ol>
<img alt="../../_images/7.png" class="align-center" src="../../_images/7.png" />
<ol class="arabic simple" start="8">
<li>In QGIS3, the <span class="guilabel">Atlas</span> tab is not visible by default. Select <span class="menuselection">View ‣ Panels ‣ Atlas</span>.</li>
</ol>
<img alt="../../_images/8.png" class="align-center" src="../../_images/8.png" />
<ol class="arabic simple" start="9">
<li>Switch to the <span class="guilabel">Atlas</span> tab. Check the <span class="guilabel">Generate an atlas</span> box.</li>
</ol>
<img alt="../../_images/9.png" class="align-center" src="../../_images/9.png" />
<ol class="arabic simple" start="10">
<li>Select the <code class="docutils literal"><span class="pre">county10</span></code> as the <span class="guilabel">Coverage layer</span>. This will indicate that we want to create 1 map each for every polygon feature in the <code class="docutils literal"><span class="pre">county10</span></code> layer. You can also check the <span class="guilabel">Hidden coverage layer</span> so that the features themselves will not appear on the map.</li>
</ol>
<img alt="../../_images/10.png" class="align-center" src="../../_images/10.png" />
<ol class="arabic simple" start="11">
<li>Switch to the <span class="guilabel">Item Properties</span> tab. Scroll down and check the <span class="guilabel">Controlled by atlas</span> box. This will indicate the layout that the content of the map displayed in this item will be determined by the <code class="docutils literal"><span class="pre">Atlas</span></code> tool.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must enable the <span class="guilabel">Generare an atlas</span> box in the <span class="guilabel">Atlas</span> tab, otherwise the <span class="guilabel">Controlled by atlas</span> checkbox will be diasbled.</p>
</div>
<img alt="../../_images/11.png" class="align-center" src="../../_images/11.png" />
<ol class="arabic simple" start="12">
<li>Now that you have configuring the Atlas settings, go to <span class="menuselection">Atlas ‣ Preview Atlas</span>.</li>
</ol>
<img alt="../../_images/12.png" class="align-center" src="../../_images/12.png" />
<ol class="arabic simple" start="13">
<li>You will see the map refresh and show how individual map will look like. You can preview how the map will look for each of the county polygons. Go to <span class="menuselection">Atlas ‣ Next Feature</span>. Atlas will render the map to the extent of the next feature in the coverage layer.</li>
</ol>
<img alt="../../_images/13.png" class="align-center" src="../../_images/13.png" />
<ol class="arabic simple" start="14">
<li>Let&#8217;s add a label to the map. Go to <span class="menuselection">Layout ‣ Add Label</span>.</li>
</ol>
<img alt="../../_images/14.png" class="align-center" src="../../_images/14.png" />
<ol class="arabic simple" start="15">
<li>Under the <span class="guilabel">Item properties</span> tab, locate the <span class="guilabel">Main properties</span> section and click <span class="guilabel">Insert an Expression...</span> button.</li>
</ol>
<img alt="../../_images/15.png" class="align-center" src="../../_images/15.png" />
<ol class="arabic simple" start="16">
<li>The label of the map can use the attributes from the coverage layer. The <code class="docutils literal"><span class="pre">concat</span></code> function is used to join multiple text items into a single text item. In this case we will join the value of the <code class="docutils literal"><span class="pre">NAME10</span></code> attribute of the <code class="docutils literal"><span class="pre">county10</span></code> layer with the text <code class="docutils literal"><span class="pre">County</span> <span class="pre">of</span></code>. Add an expression like below and click <span class="guilabel">OK</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;County of &#39;, &quot;NAME10&quot;)
</pre></div>
</div>
<img alt="../../_images/16.png" class="align-center" src="../../_images/16.png" />
<ol class="arabic simple" start="17">
<li>Delete the leading <em>Lorem ipsum</em> placeholder text so that the textbox contains only the expression. Scroll down to the <span class="guilabel">Appearance</span> section and click on the <span class="guilabel">Font</span> dropdown. Choose the font and adjust the size to your liking.</li>
</ol>
<img alt="../../_images/17.png" class="align-center" src="../../_images/17.png" />
<ol class="arabic simple" start="18">
<li>Choose <code class="docutils literal"><span class="pre">Center</span></code> as the <span class="guilabel">Horizontal alignment</span> and <code class="docutils literal"><span class="pre">Middle</span></code> as the <span class="guilabel">Vertical alignment</span> option.</li>
</ol>
<img alt="../../_images/18.png" class="align-center" src="../../_images/18.png" />
<ol class="arabic simple" start="19">
<li>Add another label and enter <code class="docutils literal"><span class="pre">Wetlands</span> <span class="pre">Map</span></code> under the <span class="guilabel">Main properties</span>. Since there is no expression here, this text will remain the same on all maps.</li>
</ol>
<img alt="../../_images/19.png" class="align-center" src="../../_images/19.png" />
<ol class="arabic simple" start="20">
<li>Go to <span class="menuselection">Atlas ‣ Last Feature</span> and verify that the map labels do work as intended. You will notice that the wetland map has polygons extending out in the ocean that looks ugly. We can change the style to that areas outside the county boundaries are hidden.</li>
</ol>
<img alt="../../_images/20.png" class="align-center" src="../../_images/20.png" />
<ol class="arabic simple" start="21">
<li>Switch to the main QGIS window. Right-click the <code class="docutils literal"><span class="pre">county10</span></code> layer and select <span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../../_images/21.png" class="align-center" src="../../_images/21.png" />
<ol class="arabic simple" start="22">
<li>In the <span class="guilabel">Symbology</span> tab, select the <span class="guilabel">Inverted polygons</span> renderer. This renderer styles the <em>outside</em> of the polygon - not inside. Select white as the fill color and click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../../_images/22.png" class="align-center" src="../../_images/22.png" />
<ol class="arabic simple" start="23">
<li>You will notice that the polygons extending outside of the county boundaries are now disappeared. In reality, they are hidden by the white color fill extending out from the county polygons because of the <em>Inverted polygons</em> style.</li>
</ol>
<img alt="../../_images/23.png" class="align-center" src="../../_images/23.png" />
<ol class="arabic simple" start="24">
<li>Switch to the <span class="guilabel">Layout</span> window. If we want the effect of the inverted polygons to show, we need to uncheck the <span class="guilabel">Hidden coverage layer</span> box under <span class="guilabel">Atlas</span> tab. Once unchecked, the rendered image will appear clean and areas outside the coverage polygon is not visible.</li>
</ol>
<img alt="../../_images/24.png" class="align-center" src="../../_images/24.png" />
<ol class="arabic simple" start="25">
<li>There is one more problem though. You will notice that in some cases, parts of the map that are outside the coverage layer boundary are still visible. This is because Atlas doesn&#8217;t automatically hide other features. This can be useful in some cases, but for our purpose, we only want to show wetlands of the county whose map is being generated. To fix this, switch back to the main QGIS window and right-click the <code class="docutils literal"><span class="pre">county10</span></code> layer and select <span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../../_images/25.png" class="align-center" src="../../_images/25.png" />
<ol class="arabic simple" start="26">
<li>In the <span class="guilabel">Symbology</span> tab, select <code class="docutils literal"><span class="pre">Rule-based</span></code> as the <span class="guilabel">Sub renderer</span>. Double-click the area under <span class="guilabel">Rule</span>.</li>
</ol>
<img alt="../../_images/26.png" class="align-center" src="../../_images/26.png" />
<ol class="arabic simple" start="27">
<li>In the <span class="guilabel">Edit rule</span> dialog, click the <span class="guilabel">Expression</span> button next to <span class="guilabel">Filter</span>.</li>
</ol>
<img alt="../../_images/27.png" class="align-center" src="../../_images/27.png" />
<ol class="arabic simple" start="28">
<li>In the <span class="guilabel">Expression string builder</span>, expand the <span class="guilabel">Variables</span> group of functions. The <code class="docutils literal"><span class="pre">&#64;atlas_featureid</span></code> variable stores the id of the the currently selected feature. We will construct an expression that will select only the currently selected Atlas feature. Enter the expression as below and click <span class="guilabel">OK</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>$id = @atlas_featureid
</pre></div>
</div>
<img alt="../../_images/28.png" class="align-center" src="../../_images/28.png" />
<ol class="arabic simple" start="29">
<li>Close all intermediate dialogs and switch back to the <span class="guilabel">Layout</span> window. Select <span class="guilabel">Map 1</span> item and click the <span class="guilabel">Update preview</span> button under <span class="guilabel">Item properties</span> tab to see the changes. Notice that now only the area covering the county boundary is shown.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you do not see the <span class="guilabel">Update preview</span> button, it may help to select another <span class="guilabel">Item</span> element first and then select <span class="guilabel">Map 1</span> again.</p>
</div>
<img alt="../../_images/29.png" class="align-center" src="../../_images/29.png" />
<ol class="arabic simple" start="30">
<li>We will now add another dynamic label to show the current date. Go to <span class="menuselection">Layout ‣ Add Label</span> and select the area on the map. Click <span class="guilabel">Insert an expression</span> button.</li>
</ol>
<img alt="../../_images/30.png" class="align-center" src="../../_images/30.png" />
<ol class="arabic simple" start="31">
<li>Expand the <span class="guilabel">Date and Time</span> functions group and you will find the <code class="docutils literal"><span class="pre">$now</span></code> function. This holds the current system time. The function <code class="docutils literal"><span class="pre">todate()</span></code> will convert this to a date string. Enter the expression as below and click <span class="guilabel">OK</span>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre><span></span>concat(&#39;Created on: &#39;, todate($now))
</pre></div>
</div>
<img alt="../../_images/31.png" class="align-center" src="../../_images/31.png" />
<ol class="arabic simple" start="32">
<li>Add another label citing the data source. You may also add other map elements such as a north arrow, scalebar etc. as described in <a class="reference internal" href="../making_a_map.html"><em>Créer une carte</em></a> tutorial.</li>
</ol>
<img alt="../../_images/32.png" class="align-center" src="../../_images/32.png" />
<ol class="arabic simple" start="33">
<li>We will make one last styling improvement. Switch back to the main QGIS window and right-click the <code class="docutils literal"><span class="pre">HI_Wetlands_Poly</span></code> layer and select <span class="guilabel">Properties</span>.</li>
</ol>
<img alt="../../_images/33.png" class="align-center" src="../../_images/33.png" />
<ol class="arabic simple" start="34">
<li>In the <span class="guilabel">Symbology</span> tab, click on <span class="guilabel">Simple fill</span> and select <code class="docutils literal"><span class="pre">Shapeburst</span> <span class="pre">fill</span></code> as the <span class="guilabel">Symbol layer type</span>. Choose the <span class="guilabel">Two color</span> option and select shades of green and blue that you like. Click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../../_images/34.png" class="align-center" src="../../_images/34.png" />
<ol class="arabic simple" start="35">
<li>Select <span class="guilabel">Map 1</span> item and click the <span class="guilabel">Update preview</span> button under <span class="guilabel">Item properties</span> tab to see the changes.</li>
</ol>
<img alt="../../_images/35.png" class="align-center" src="../../_images/35.png" />
<ol class="arabic simple" start="36">
<li>Once you are satisfied with the map layout and styling, go to <span class="menuselection">Atlas ‣ Export Atlas as Images</span>.</li>
</ol>
<img alt="../../_images/36.png" class="align-center" src="../../_images/36.png" />
<ol class="arabic simple" start="37">
<li>Select a directory on your computer and click <span class="guilabel">Choose</span>.</li>
</ol>
<img alt="../../_images/37.png" class="align-center" src="../../_images/37.png" />
<ol class="arabic simple" start="38">
<li>Leave the default options in the <span class="guilabel">Image Export Options</span> and click <span class="guilabel">Save</span>.</li>
</ol>
<img alt="../../_images/38.png" class="align-center" src="../../_images/38.png" />
<ol class="arabic simple" start="39">
<li>The Atlas tool will now iterate through each feature in the coverage layer and create a separate map image based on the template we created. You can see the images in the directory once the process completes.</li>
</ol>
<img alt="../../_images/39.png" class="align-center" src="../../_images/39.png" />
<ol class="arabic simple" start="40">
<li>Here are the map images for refeence.</li>
</ol>
<img alt="../../_images/output_1.png" class="align-center" src="../../_images/output_1.png" />
<img alt="../../_images/output_2.png" class="align-center" src="../../_images/output_2.png" />
<img alt="../../_images/output_3.png" class="align-center" src="../../_images/output_3.png" />
<img alt="../../_images/output_4.png" class="align-center" src="../../_images/output_4.png" />
<img alt="../../_images/output_5.png" class="align-center" src="../../_images/output_5.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Ujaval Gandhi.<br/>
      Mis à jour le Apr 13, 2019.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/3/automating_map_creation.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>